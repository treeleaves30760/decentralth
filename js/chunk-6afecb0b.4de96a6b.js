(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6afecb0b"],{"0321":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return Mr}));var n=r("2a07"),i=r.n(n),o=r("b639"),s=r("399f"),a=r.n(s),c=r("0774"),u=r.n(c),h=r("fa13"),d=r("8df2"),l=r("d920"),b=(r("3f10"),r("502a"),r("2330")),f=r.n(b),p=r("1c55"),g=r.n(p);const y=e=>o["Buffer"].isBuffer(e)?e:e instanceof Uint8Array?o["Buffer"].from(e.buffer,e.byteOffset,e.byteLength):o["Buffer"].from(e);var m="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function O(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}var w={},j={},v=k;function k(e,t){if(!e)throw new Error(t||"Assertion failed")}k.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var S={exports:{}};"function"===typeof Object.create?S.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:S.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var E=v,_=S.exports;function I(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function A(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for(e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):I(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r}function P(e){for(var t="",r=0;r<e.length;r++)t+=x(e[r].toString(16));return t}function T(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24;return t>>>0}function R(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=T(i)),r+=C(i.toString(16))}return r}function x(e){return 1===e.length?"0"+e:e}function C(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function N(e,t,r,n){var i=r-t;E(i%4===0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var c;c="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[s]=c>>>0}return o}function U(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r}function B(e,t){return e>>>t|e<<32-t}function z(e,t){return e<<t|e>>>32-t}function W(e,t){return e+t>>>0}function L(e,t,r){return e+t+r>>>0}function D(e,t,r,n){return e+t+r+n>>>0}function M(e,t,r,n,i){return e+t+r+n+i>>>0}function K(e,t,r,n){var i=e[t],o=e[t+1],s=n+o>>>0,a=(s<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=s}function q(e,t,r,n){var i=t+n>>>0,o=(i<t?1:0)+e+r;return o>>>0}function F(e,t,r,n){var i=t+n;return i>>>0}function H(e,t,r,n,i,o,s,a){var c=0,u=t;u=u+n>>>0,c+=u<t?1:0,u=u+o>>>0,c+=u<o?1:0,u=u+a>>>0,c+=u<a?1:0;var h=e+r+i+s+c;return h>>>0}function G(e,t,r,n,i,o,s,a){var c=t+n+o+a;return c>>>0}function V(e,t,r,n,i,o,s,a,c,u){var h=0,d=t;d=d+n>>>0,h+=d<t?1:0,d=d+o>>>0,h+=d<o?1:0,d=d+a>>>0,h+=d<a?1:0,d=d+u>>>0,h+=d<u?1:0;var l=e+r+i+s+c+h;return l>>>0}function Y(e,t,r,n,i,o,s,a,c,u){var h=t+n+o+a+u;return h>>>0}function J(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}function $(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}function X(e,t,r){return e>>>r}function Z(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}j.inherits=_,j.toArray=A,j.toHex=P,j.htonl=T,j.toHex32=R,j.zero2=x,j.zero8=C,j.join32=N,j.split32=U,j.rotr32=B,j.rotl32=z,j.sum32=W,j.sum32_3=L,j.sum32_4=D,j.sum32_5=M,j.sum64=K,j.sum64_hi=q,j.sum64_lo=F,j.sum64_4_hi=H,j.sum64_4_lo=G,j.sum64_5_hi=V,j.sum64_5_lo=Y,j.rotr64_hi=J,j.rotr64_lo=$,j.shr64_hi=X,j.shr64_lo=Z;var Q={},ee=j,te=v;function re(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Q.BlockHash=re,re.prototype.update=function(e,t){if(e=ee.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=ee.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},re.prototype.digest=function(e){return this.update(this._pad()),te(null===this.pending),this._digest(e)},re.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var ne={},ie={},oe=j,se=oe.rotr32;function ae(e,t,r,n){return 0===e?ce(t,r,n):1===e||3===e?he(t,r,n):2===e?ue(t,r,n):void 0}function ce(e,t,r){return e&t^~e&r}function ue(e,t,r){return e&t^e&r^t&r}function he(e,t,r){return e^t^r}function de(e){return se(e,2)^se(e,13)^se(e,22)}function le(e){return se(e,6)^se(e,11)^se(e,25)}function be(e){return se(e,7)^se(e,18)^e>>>3}function fe(e){return se(e,17)^se(e,19)^e>>>10}ie.ft_1=ae,ie.ch32=ce,ie.maj32=ue,ie.p32=he,ie.s0_256=de,ie.s1_256=le,ie.g0_256=be,ie.g1_256=fe;var pe=j,ge=Q,ye=ie,me=pe.rotl32,Oe=pe.sum32,we=pe.sum32_5,je=ye.ft_1,ve=ge.BlockHash,ke=[1518500249,1859775393,2400959708,3395469782];function Se(){if(!(this instanceof Se))return new Se;ve.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}pe.inherits(Se,ve);var Ee=Se;Se.blockSize=512,Se.outSize=160,Se.hmacStrength=80,Se.padLength=64,Se.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=me(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),h=we(me(i,5),je(u,o,s,a),c,r[n],ke[u]);c=a,a=s,s=me(o,30),o=i,i=h}this.h[0]=Oe(this.h[0],i),this.h[1]=Oe(this.h[1],o),this.h[2]=Oe(this.h[2],s),this.h[3]=Oe(this.h[3],a),this.h[4]=Oe(this.h[4],c)},Se.prototype._digest=function(e){return"hex"===e?pe.toHex32(this.h,"big"):pe.split32(this.h,"big")};var _e=j,Ie=Q,Ae=ie,Pe=v,Te=_e.sum32,Re=_e.sum32_4,xe=_e.sum32_5,Ce=Ae.ch32,Ne=Ae.maj32,Ue=Ae.s0_256,Be=Ae.s1_256,ze=Ae.g0_256,We=Ae.g1_256,Le=Ie.BlockHash,De=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Me(){if(!(this instanceof Me))return new Me;Le.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=De,this.W=new Array(64)}_e.inherits(Me,Le);var Ke=Me;Me.blockSize=512,Me.outSize=256,Me.hmacStrength=192,Me.padLength=64,Me.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Re(We(r[n-2]),r[n-7],ze(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],d=this.h[7];for(Pe(this.k.length===r.length),n=0;n<r.length;n++){var l=xe(d,Be(c),Ce(c,u,h),this.k[n],r[n]),b=Te(Ue(i),Ne(i,o,s));d=h,h=u,u=c,c=Te(a,l),a=s,s=o,o=i,i=Te(l,b)}this.h[0]=Te(this.h[0],i),this.h[1]=Te(this.h[1],o),this.h[2]=Te(this.h[2],s),this.h[3]=Te(this.h[3],a),this.h[4]=Te(this.h[4],c),this.h[5]=Te(this.h[5],u),this.h[6]=Te(this.h[6],h),this.h[7]=Te(this.h[7],d)},Me.prototype._digest=function(e){return"hex"===e?_e.toHex32(this.h,"big"):_e.split32(this.h,"big")};var qe=j,Fe=Ke;function He(){if(!(this instanceof He))return new He;Fe.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}qe.inherits(He,Fe);var Ge=He;He.blockSize=512,He.outSize=224,He.hmacStrength=192,He.padLength=64,He.prototype._digest=function(e){return"hex"===e?qe.toHex32(this.h.slice(0,7),"big"):qe.split32(this.h.slice(0,7),"big")};var Ve=j,Ye=Q,Je=v,$e=Ve.rotr64_hi,Xe=Ve.rotr64_lo,Ze=Ve.shr64_hi,Qe=Ve.shr64_lo,et=Ve.sum64,tt=Ve.sum64_hi,rt=Ve.sum64_lo,nt=Ve.sum64_4_hi,it=Ve.sum64_4_lo,ot=Ve.sum64_5_hi,st=Ve.sum64_5_lo,at=Ye.BlockHash,ct=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ut(){if(!(this instanceof ut))return new ut;at.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ct,this.W=new Array(160)}Ve.inherits(ut,at);var ht=ut;function dt(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function lt(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function bt(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function ft(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function pt(e,t){var r=$e(e,t,28),n=$e(t,e,2),i=$e(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function gt(e,t){var r=Xe(e,t,28),n=Xe(t,e,2),i=Xe(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function yt(e,t){var r=$e(e,t,14),n=$e(e,t,18),i=$e(t,e,9),o=r^n^i;return o<0&&(o+=4294967296),o}function mt(e,t){var r=Xe(e,t,14),n=Xe(e,t,18),i=Xe(t,e,9),o=r^n^i;return o<0&&(o+=4294967296),o}function Ot(e,t){var r=$e(e,t,1),n=$e(e,t,8),i=Ze(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function wt(e,t){var r=Xe(e,t,1),n=Xe(e,t,8),i=Qe(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function jt(e,t){var r=$e(e,t,19),n=$e(t,e,29),i=Ze(e,t,6),o=r^n^i;return o<0&&(o+=4294967296),o}function vt(e,t){var r=Xe(e,t,19),n=Xe(t,e,29),i=Qe(e,t,6),o=r^n^i;return o<0&&(o+=4294967296),o}ut.blockSize=1024,ut.outSize=512,ut.hmacStrength=192,ut.padLength=128,ut.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=jt(r[n-4],r[n-3]),o=vt(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=Ot(r[n-30],r[n-29]),u=wt(r[n-30],r[n-29]),h=r[n-32],d=r[n-31];r[n]=nt(i,o,s,a,c,u,h,d),r[n+1]=it(i,o,s,a,c,u,h,d)}},ut.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],d=this.h[8],l=this.h[9],b=this.h[10],f=this.h[11],p=this.h[12],g=this.h[13],y=this.h[14],m=this.h[15];Je(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var w=y,j=m,v=yt(d,l),k=mt(d,l),S=dt(d,l,b,f,p),E=lt(d,l,b,f,p,g),_=this.k[O],I=this.k[O+1],A=r[O],P=r[O+1],T=ot(w,j,v,k,S,E,_,I,A,P),R=st(w,j,v,k,S,E,_,I,A,P);w=pt(n,i),j=gt(n,i),v=bt(n,i,o,s,a),k=ft(n,i,o,s,a,c);var x=tt(w,j,v,k),C=rt(w,j,v,k);y=p,m=g,p=b,g=f,b=d,f=l,d=tt(u,h,T,R),l=rt(h,h,T,R),u=a,h=c,a=o,c=s,o=n,s=i,n=tt(T,R,x,C),i=rt(T,R,x,C)}et(this.h,0,n,i),et(this.h,2,o,s),et(this.h,4,a,c),et(this.h,6,u,h),et(this.h,8,d,l),et(this.h,10,b,f),et(this.h,12,p,g),et(this.h,14,y,m)},ut.prototype._digest=function(e){return"hex"===e?Ve.toHex32(this.h,"big"):Ve.split32(this.h,"big")};var kt=j,St=ht;function Et(){if(!(this instanceof Et))return new Et;St.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}kt.inherits(Et,St);var _t=Et;Et.blockSize=1024,Et.outSize=384,Et.hmacStrength=192,Et.padLength=128,Et.prototype._digest=function(e){return"hex"===e?kt.toHex32(this.h.slice(0,12),"big"):kt.split32(this.h.slice(0,12),"big")},ne.sha1=Ee,ne.sha224=Ge,ne.sha256=Ke,ne.sha384=_t,ne.sha512=ht;var It={},At=j,Pt=Q,Tt=At.rotl32,Rt=At.sum32,xt=At.sum32_3,Ct=At.sum32_4,Nt=Pt.BlockHash;function Ut(){if(!(this instanceof Ut))return new Ut;Nt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Bt(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function zt(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Wt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}At.inherits(Ut,Nt),It.ripemd160=Ut,Ut.blockSize=512,Ut.outSize=160,Ut.hmacStrength=192,Ut.padLength=64,Ut.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,c=n,u=i,h=o,d=s,l=0;l<80;l++){var b=Rt(Tt(Ct(r,Bt(l,n,i,o),e[Lt[l]+t],zt(l)),Mt[l]),s);r=s,s=o,o=Tt(i,10),i=n,n=b,b=Rt(Tt(Ct(a,Bt(79-l,c,u,h),e[Dt[l]+t],Wt(l)),Kt[l]),d),a=d,d=h,h=Tt(u,10),u=c,c=b}b=xt(this.h[1],i,h),this.h[1]=xt(this.h[2],o,d),this.h[2]=xt(this.h[3],s,a),this.h[3]=xt(this.h[4],r,c),this.h[4]=xt(this.h[0],n,u),this.h[0]=b},Ut.prototype._digest=function(e){return"hex"===e?At.toHex32(this.h,"little"):At.split32(this.h,"little")};var Lt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Dt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Mt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Kt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],qt=j,Ft=v;function Ht(e,t,r){if(!(this instanceof Ht))return new Ht(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(qt.toArray(t,r))}var Gt=Ht;Ht.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),Ft(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Ht.prototype.update=function(e,t){return this.inner.update(e,t),this},Ht.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=j,t.common=Q,t.sha=ne,t.ripemd=It,t.hmac=Gt,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(w);var Vt=w;const Yt="logger/5.5.0";let Jt=!1,$t=!1;const Xt={debug:1,default:2,info:2,warning:3,error:4,off:5};let Zt=Xt["default"],Qt=null;function er(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const tr=er();var rr,nr;(function(e){e["DEBUG"]="DEBUG",e["INFO"]="INFO",e["WARNING"]="WARNING",e["ERROR"]="ERROR",e["OFF"]="OFF"})(rr||(rr={})),function(e){e["UNKNOWN_ERROR"]="UNKNOWN_ERROR",e["NOT_IMPLEMENTED"]="NOT_IMPLEMENTED",e["UNSUPPORTED_OPERATION"]="UNSUPPORTED_OPERATION",e["NETWORK_ERROR"]="NETWORK_ERROR",e["SERVER_ERROR"]="SERVER_ERROR",e["TIMEOUT"]="TIMEOUT",e["BUFFER_OVERRUN"]="BUFFER_OVERRUN",e["NUMERIC_FAULT"]="NUMERIC_FAULT",e["MISSING_NEW"]="MISSING_NEW",e["INVALID_ARGUMENT"]="INVALID_ARGUMENT",e["MISSING_ARGUMENT"]="MISSING_ARGUMENT",e["UNEXPECTED_ARGUMENT"]="UNEXPECTED_ARGUMENT",e["CALL_EXCEPTION"]="CALL_EXCEPTION",e["INSUFFICIENT_FUNDS"]="INSUFFICIENT_FUNDS",e["NONCE_EXPIRED"]="NONCE_EXPIRED",e["REPLACEMENT_UNDERPRICED"]="REPLACEMENT_UNDERPRICED",e["UNPREDICTABLE_GAS_LIMIT"]="UNPREDICTABLE_GAS_LIMIT",e["TRANSACTION_REPLACED"]="TRANSACTION_REPLACED"}(nr||(nr={}));const ir="0123456789abcdef";class or{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==Xt[r]&&this.throwArgumentError("invalid log level name","logLevel",e),Zt>Xt[r]||console.log.apply(console,t)}debug(...e){this._log(or.levels.DEBUG,e)}info(...e){this._log(or.levels.INFO,e)}warn(...e){this._log(or.levels.WARNING,e)}makeError(e,t,r){if($t)return this.makeError("censored error",t,{});t||(t=or.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach(e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=ir[t[e]>>4],r+=ir[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(o){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push("code="+t),n.push("version="+this.version);const i=e;n.length&&(e+=" ("+n.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,or.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){tr&&this.throwError("platform missing String.prototype.normalize",or.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:tr})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,or.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,or.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,or.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,or.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",or.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",or.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",or.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Qt||(Qt=new or(Yt)),Qt}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",or.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Jt){if(!e)return;this.globalLogger().throwError("error censorship permanent",or.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}$t=!!e,Jt=!!t}static setLogLevel(e){const t=Xt[e.toLowerCase()];null!=t?Zt=t:or.globalLogger().warn("invalid log level - "+e)}static from(e){return new or(e)}}or.errors=nr,or.levels=rr;const sr="bytes/5.5.0",ar=new or(sr);function cr(e){return!!e.toHexString}function ur(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return ur(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function hr(e){return"number"===typeof e&&e==e&&e%1===0}function dr(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!hr(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!hr(r)||r<0||r>=256)return!1}return!0}function lr(e,t){if(t||(t={}),"number"===typeof e){ar.checkSafeUint53(e,"invalid arrayify value");const t=[];while(e)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),ur(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),cr(e)&&(e=e.toHexString()),br(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":ar.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return ur(new Uint8Array(n))}return dr(e)?ur(new Uint8Array(e)):ar.throwArgumentError("invalid arrayify value","value",e)}function br(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const fr="sha2/5.5.0";function pr(e){return"0x"+Vt.sha256().update(lr(e)).digest("hex")}new or(fr);class gr{constructor(e){Object.assign(this,e)}encode(){return o["Buffer"].from(Object(h["serialize"])(yr,this))}static decode(e){return Object(h["deserialize"])(yr,this,e)}static decodeUnchecked(e){return Object(h["deserializeUnchecked"])(yr,this,e)}}const yr=new Map,mr=32;function Or(e){return void 0!==e._bn}class wr extends gr{constructor(e){if(super({}),this._bn=void 0,Or(e))this._bn=e._bn;else{if("string"===typeof e){const t=u.a.decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new a.a(t)}else this._bn=new a.a(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return u.a.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(o["Buffer"]);if(32===e.length)return e;const t=o["Buffer"].alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=o["Buffer"].concat([e.toBuffer(),o["Buffer"].from(t),r.toBuffer()]),i=pr(new Uint8Array(n)).slice(2);return new wr(o["Buffer"].from(i,"hex"))}static async createProgramAddress(e,t){let r=o["Buffer"].alloc(0);e.forEach((function(e){if(e.length>mr)throw new TypeError("Max seed length exceeded");r=o["Buffer"].concat([r,y(e)])})),r=o["Buffer"].concat([r,t.toBuffer(),o["Buffer"].from("ProgramDerivedAddress")]);let n=pr(new Uint8Array(r)).slice(2),i=new a.a(n,16).toArray(void 0,32);if(vr(i))throw new Error("Invalid seeds, address must fall off the curve");return new wr(i)}static async findProgramAddress(e,t){let r,n=255;while(0!=n){try{const i=e.concat(o["Buffer"].from([n]));r=await this.createProgramAddress(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static isOnCurve(e){return 1==vr(e)}}wr.default=new wr("11111111111111111111111111111111"),yr.set(wr,{kind:"struct",fields:[["_bn","u256"]]});let jr=i.a.lowlevel;function vr(e){var t=[jr.gf(),jr.gf(),jr.gf(),jr.gf()],r=jr.gf(),n=jr.gf(),i=jr.gf(),o=jr.gf(),s=jr.gf(),a=jr.gf(),c=jr.gf();return jr.set25519(t[2],kr),jr.unpack25519(t[1],e),jr.S(i,t[1]),jr.M(o,i,jr.D),jr.Z(i,i,t[2]),jr.A(o,t[2],o),jr.S(s,o),jr.S(a,s),jr.M(c,a,s),jr.M(r,c,i),jr.M(r,r,o),jr.pow2523(r,r),jr.M(r,r,i),jr.M(r,r,o),jr.M(r,r,o),jr.M(t[0],r,o),jr.S(n,t[0]),jr.M(n,n,o),Er(n,i)&&jr.M(t[0],t[0],Sr),jr.S(n,t[0]),jr.M(n,n,o),Er(n,i)?0:1}let kr=jr.gf([1]),Sr=jr.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Er(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return jr.pack25519(r,e),jr.pack25519(n,t),jr.crypto_verify_32(r,0,n,0)}new wr("BPFLoader1111111111111111111111111111111111");const _r=(e="publicKey")=>d["blob"](32,e),Ir=(e="string")=>{const t=d["struct"]([d["u32"]("length"),d["u32"]("lengthPadding"),d["blob"](d["offset"](d["u32"](),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t)=>{const n=r(e,t);return n["chars"].toString("utf8")},t.encode=(e,t,r)=>{const i={chars:o["Buffer"].from(e,"utf8")};return n(i,t,r)},t.alloc=e=>d["u32"]().span+d["u32"]().span+o["Buffer"].from(e,"utf8").length,t},Ar=(e="authorized")=>d["struct"]([_r("staker"),_r("withdrawer")],e),Pr=(e="lockup")=>d["struct"]([d["ns64"]("unixTimestamp"),d["ns64"]("epoch"),_r("custodian")],e),Tr=(e="voteInit")=>d["struct"]([_r("nodePubkey"),_r("authorizedVoter"),_r("authorizedWithdrawer"),d["u8"]("commission")],e);function Rr(e,t){let r=0;return e.layout.fields.forEach(e=>{e.span>=0?r+=e.span:"function"===typeof e.alloc&&(r+=e.alloc(t[e.property]))}),r}function xr(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function Cr(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}const Nr=32;class Ur{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new wr(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Cr(t,e);const r=this.instructions.map(e=>{const{accounts:t,programIdIndex:r}=e,n=u.a.decode(e.data);let i=[];Cr(i,t.length);let s=[];return Cr(s,n.length),{programIdIndex:r,keyIndicesCount:o["Buffer"].from(i),keyIndices:o["Buffer"].from(t),dataLength:o["Buffer"].from(s),data:n}});let n=[];Cr(n,r.length);let i=o["Buffer"].alloc(Wr);o["Buffer"].from(n).copy(i);let s=n.length;r.forEach(e=>{const t=d["struct"]([d["u8"]("programIdIndex"),d["blob"](e.keyIndicesCount.length,"keyIndicesCount"),d["seq"](d["u8"]("keyIndex"),e.keyIndices.length,"keyIndices"),d["blob"](e.dataLength.length,"dataLength"),d["seq"](d["u8"]("userdatum"),e.data.length,"data")]),r=t.encode(e,i,s);s+=r}),i=i.slice(0,s);const a=d["struct"]([d["blob"](1,"numRequiredSignatures"),d["blob"](1,"numReadonlySignedAccounts"),d["blob"](1,"numReadonlyUnsignedAccounts"),d["blob"](t.length,"keyCount"),d["seq"](_r("key"),e,"keys"),_r("recentBlockhash")]),c={numRequiredSignatures:o["Buffer"].from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:o["Buffer"].from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:o["Buffer"].from([this.header.numReadonlyUnsignedAccounts]),keyCount:o["Buffer"].from(t),keys:this.accountKeys.map(e=>y(e.toBytes())),recentBlockhash:u.a.decode(this.recentBlockhash)};let h=o["Buffer"].alloc(2048);const l=a.encode(c,h);return i.copy(h,l),h.slice(0,l+i.length)}static from(e){let t=[...e];const r=t.shift(),n=t.shift(),i=t.shift(),s=xr(t);let a=[];for(let b=0;b<s;b++){const e=t.slice(0,Nr);t=t.slice(Nr),a.push(u.a.encode(o["Buffer"].from(e)))}const c=t.slice(0,Nr);t=t.slice(Nr);const h=xr(t);let d=[];for(let b=0;b<h;b++){const e=t.shift(),r=xr(t),n=t.slice(0,r);t=t.slice(r);const i=xr(t),s=t.slice(0,i),a=u.a.encode(o["Buffer"].from(s));t=t.slice(i),d.push({programIdIndex:e,accounts:n,data:a})}const l={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:u.a.encode(o["Buffer"].from(c)),accountKeys:a,instructions:d};return new Ur(l)}}function Br(e,t){if(!e)throw new Error(t||"Assertion failed")}const zr=o["Buffer"].alloc(64).fill(0),Wr=1232,Lr=64;class Dr{constructor(e){this.keys=void 0,this.programId=void 0,this.data=o["Buffer"].alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}}class Mr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,e&&Object.assign(this,e)}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Dr(e))}),this}compileMessage(){const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:t}=this;if(!t)throw new Error("Transaction recentBlockhash required");let r;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let u=0;u<this.instructions.length;u++)if(void 0===this.instructions[u].programId)throw new Error(`Transaction instruction index ${u} has undefined program id`);const n=[],i=[];this.instructions.forEach(e=>{e.keys.forEach(e=>{i.push({...e})});const t=e.programId.toString();n.includes(t)||n.push(t)}),n.forEach(e=>{i.push({pubkey:new wr(e),isSigner:!1,isWritable:!1})}),i.sort((function(e,t){const r=e.pubkey.toBase58().localeCompare(t.pubkey.toBase58()),n=e.isSigner===t.isSigner?0:e.isSigner?-1:1,i=e.isWritable===t.isWritable?r:e.isWritable?-1:1;return n||i}));const o=[];i.forEach(e=>{const t=e.pubkey.toString(),r=o.findIndex(e=>e.pubkey.toString()===t);r>-1?o[r].isWritable=o[r].isWritable||e.isWritable:o.push(e)});const s=o.findIndex(e=>e.pubkey.equals(r));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const u of this.signatures){const e=o.findIndex(e=>e.pubkey.equals(u.publicKey));if(!(e>-1))throw new Error("unknown signer: "+u.publicKey.toString());o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,h=0;const d=[],l=[];o.forEach(({pubkey:e,isSigner:t,isWritable:r})=>{t?(d.push(e.toString()),a+=1,r||(c+=1)):(l.push(e.toString()),r||(h+=1))});const b=d.concat(l),f=this.instructions.map(e=>{const{data:t,programId:r}=e;return{programIdIndex:b.indexOf(r.toString()),accounts:e.keys.map(e=>b.indexOf(e.pubkey.toString())),data:u.a.encode(t)}});return f.forEach(e=>{Br(e.programIdIndex>=0),e.accounts.forEach(e=>Br(e>=0))}),new Ur({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:h},accountKeys:b,recentBlockhash:t,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){const r=this.signatures.every((e,r)=>t[r].equals(e.publicKey));if(r)return e}return this.signatures=t.map(e=>({signature:null,publicKey:e})),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter(e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const e=i.publicKey.toString();t.has(e)||(t.add(e),r.push(i))}this.signatures=r.map(e=>({signature:null,publicKey:e.publicKey}));const n=this._compile();this._partialSign(n,...r),this._verifySignatures(n.serialize(),!0)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const e=i.publicKey.toString();t.has(e)||(t.add(e),r.push(i))}const n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(e=>{const t=i.a.sign.detached(r,e.secretKey);this._addSignature(e.publicKey,y(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Br(64===t.length);const r=this.signatures.findIndex(t=>e.equals(t.publicKey));if(r<0)throw new Error("unknown signer: "+e.toString());this.signatures[r].signature=o["Buffer"].from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!i.a.sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];Cr(r,t.length);const n=r.length+64*t.length+e.length,i=o["Buffer"].alloc(n);return Br(t.length<256),o["Buffer"].from(r).copy(i,0),t.forEach(({signature:e},t)=>{null!==e&&(Br(64===e.length,"signature has invalid length"),o["Buffer"].from(e).copy(i,r.length+64*t))}),e.copy(i,r.length+64*t.length),Br(i.length<=Wr,`Transaction too large: ${i.length} > ${Wr}`),i}get keys(){return Br(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Br(1===this.instructions.length),this.instructions[0].programId}get data(){return Br(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=xr(t);let n=[];for(let i=0;i<r;i++){const e=t.slice(0,Lr);t=t.slice(Lr),n.push(u.a.encode(o["Buffer"].from(e)))}return Mr.populate(Ur.from(t),n)}static populate(e,t=[]){const r=new Mr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((t,n)=>{const i={signature:t==u.a.encode(zr)?null:u.a.decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)}),e.instructions.forEach(t=>{const n=t.accounts.map(t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some(e=>e.publicKey.toString()===n.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});r.instructions.push(new Dr({keys:n,programId:e.accountKeys[t.programIdIndex],data:u.a.decode(t.data)}))}),r}}const Kr=new wr("SysvarC1ock11111111111111111111111111111111"),qr=(new wr("SysvarEpochSchedu1e111111111111111111111111"),new wr("Sysvar1nstructions1111111111111111111111111"),new wr("SysvarRecentB1ockHashes11111111111111111111")),Fr=new wr("SysvarRent111111111111111111111111111111111"),Hr=(new wr("SysvarRewards111111111111111111111111111111"),new wr("SysvarS1otHashes111111111111111111111111111"),new wr("SysvarS1otHistory11111111111111111111111111"),new wr("SysvarStakeHistory1111111111111111111111111"));async function Gr(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries},o=await e.sendTransaction(t,r,i),s=(await e.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Vr(e){return new Promise(t=>setTimeout(t,e))}function Yr(e,t){const r=e.layout.span>=0?e.layout.span:Rr(e,t),n=o["Buffer"].alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}const Jr=d["nu64"]("lamportsPerSignature"),$r=d["struct"]([d["u32"]("version"),d["u32"]("state"),_r("authorizedPubkey"),_r("nonce"),d["struct"]([Jr],"feeCalculator")]),Xr=$r.span;const Zr=Object.freeze({Create:{index:0,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports"),d["ns64"]("space"),_r("programId")])},Assign:{index:1,layout:d["struct"]([d["u32"]("instruction"),_r("programId")])},Transfer:{index:2,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports")])},CreateWithSeed:{index:3,layout:d["struct"]([d["u32"]("instruction"),_r("base"),Ir("seed"),d["ns64"]("lamports"),d["ns64"]("space"),_r("programId")])},AdvanceNonceAccount:{index:4,layout:d["struct"]([d["u32"]("instruction")])},WithdrawNonceAccount:{index:5,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports")])},InitializeNonceAccount:{index:6,layout:d["struct"]([d["u32"]("instruction"),_r("authorized")])},AuthorizeNonceAccount:{index:7,layout:d["struct"]([d["u32"]("instruction"),_r("authorized")])},Allocate:{index:8,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("space")])},AllocateWithSeed:{index:9,layout:d["struct"]([d["u32"]("instruction"),_r("base"),Ir("seed"),d["ns64"]("space"),_r("programId")])},AssignWithSeed:{index:10,layout:d["struct"]([d["u32"]("instruction"),_r("base"),Ir("seed"),_r("programId")])},TransferWithSeed:{index:11,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports"),Ir("seed"),_r("programId")])}});class Qr{constructor(){}static createAccount(e){const t=Zr.Create,r=Yr(t,{lamports:e.lamports,space:e.space,programId:y(e.programId.toBuffer())});return new Dr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const n=Zr.TransferWithSeed;t=Yr(n,{lamports:e.lamports,seed:e.seed,programId:y(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const n=Zr.Transfer;t=Yr(n,{lamports:e.lamports}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Dr({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const n=Zr.AssignWithSeed;t=Yr(n,{base:y(e.basePubkey.toBuffer()),seed:e.seed,programId:y(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const n=Zr.Assign;t=Yr(n,{programId:y(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Dr({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Zr.CreateWithSeed,r=Yr(t,{base:y(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:y(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Dr({keys:n,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Mr;"basePubkey"in e&&"seed"in e?t.add(Qr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Xr,programId:this.programId})):t.add(Qr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Xr,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Zr.InitializeNonceAccount,r=Yr(t,{authorized:y(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:Fr,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Dr(n)}static nonceAdvance(e){const t=Zr.AdvanceNonceAccount,r=Yr(t),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Dr(n)}static nonceWithdraw(e){const t=Zr.WithdrawNonceAccount,r=Yr(t,{lamports:e.lamports});return new Dr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:qr,isSigner:!1,isWritable:!1},{pubkey:Fr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Zr.AuthorizeNonceAccount,r=Yr(t,{authorized:y(e.newAuthorizedPubkey.toBuffer())});return new Dr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const n=Zr.AllocateWithSeed;t=Yr(n,{base:y(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:y(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const n=Zr.Allocate;t=Yr(n,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Dr({keys:r,programId:this.programId,data:t})}}Qr.programId=new wr("11111111111111111111111111111111");const en=Wr-300;class tn{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/tn.chunkSize)+1+1)}static async load(e,t,r,n,i){{const o=await e.getMinimumBalanceForRentExemption(i.length),s=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new Mr,a.add(Qr.allocate({accountPubkey:r.publicKey,space:i.length}))),s.owner.equals(n)||(a=a||new Mr,a.add(Qr.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<o&&(a=a||new Mr,a.add(Qr.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:o-s.lamports})))}else a=(new Mr).add(Qr.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==a&&await Gr(e,a,[t,r],{commitment:"confirmed"})}const s=d["struct"]([d["u32"]("instruction"),d["u32"]("offset"),d["u32"]("bytesLength"),d["u32"]("bytesLengthPadding"),d["seq"](d["u8"]("byte"),d["offset"](d["u32"](),-8),"bytes")]),a=tn.chunkSize;let c=0,u=i,h=[];while(u.length>0){const i=u.slice(0,a),d=o["Buffer"].alloc(a+16);s.encode({instruction:0,offset:c,bytes:i},d);const l=(new Mr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:d});if(h.push(Gr(e,l,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await Vr(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(h);{const i=d["struct"]([d["u32"]("instruction")]),s=o["Buffer"].alloc(i.span);i.encode({instruction:1},s);const a=(new Mr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Fr,isSigner:!1,isWritable:!1}],programId:n,data:s});await Gr(e,a,[t,r],{commitment:"confirmed"})}return!0}}tn.chunkSize=en;new wr("BPFLoader2111111111111111111111111111111111");var rn={exports:{}};(function(e,t){var r="undefined"!==typeof self?self:m,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(e){return e&&DataView.prototype.isPrototypeOf(e)}if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function l(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function b(e){var t=new FileReader,r=d(t);return t.readAsText(e),r}function f(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&n(e)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(f(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=a(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype["delete"]=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=a(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),c(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),c(e)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function O(e,t){t=t||{};var r=t.body;if(e instanceof O){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=m(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function j(e){var t=new u,r=e.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})},g.call(O.prototype),g.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];v.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(i,o){var s=new O(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:j(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;i(new v(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&r.blob&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=u,e.Request=O,e.Response=v),t.Headers=u,t.Request=O,t.Response=v,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(rn,rn.exports);rn.exports;Error;const nn=Object(l["e"])(Object(l["g"])(wr),Object(l["m"])(),e=>new wr(e)),on=Object(l["n"])([Object(l["m"])(),Object(l["h"])("base64")]),sn=Object(l["e"])(Object(l["g"])(o["Buffer"]),on,e=>o["Buffer"].from(e[0],"base64"));function an(e){return Object(l["p"])([Object(l["o"])({jsonrpc:Object(l["h"])("2.0"),id:Object(l["m"])(),result:e}),Object(l["o"])({jsonrpc:Object(l["h"])("2.0"),id:Object(l["m"])(),error:Object(l["o"])({code:Object(l["q"])(),message:Object(l["m"])(),data:Object(l["k"])(Object(l["a"])())})})])}const cn=an(Object(l["q"])());function un(e){return Object(l["e"])(an(e),cn,t=>"error"in t?t:{...t,result:Object(l["f"])(t.result,e)})}function hn(e){return un(Object(l["o"])({context:Object(l["o"])({slot:Object(l["j"])()}),value:e}))}function dn(e){return Object(l["o"])({context:Object(l["o"])({slot:Object(l["j"])()}),value:e})}const ln=Object(l["o"])({foundation:Object(l["j"])(),foundationTerm:Object(l["j"])(),initial:Object(l["j"])(),taper:Object(l["j"])(),terminal:Object(l["j"])()}),bn=(un(Object(l["b"])(Object(l["i"])(Object(l["o"])({epoch:Object(l["j"])(),effectiveSlot:Object(l["j"])(),amount:Object(l["j"])(),postBalance:Object(l["j"])()})))),Object(l["o"])({epoch:Object(l["j"])(),slotIndex:Object(l["j"])(),slotsInEpoch:Object(l["j"])(),absoluteSlot:Object(l["j"])(),blockHeight:Object(l["k"])(Object(l["j"])()),transactionCount:Object(l["k"])(Object(l["j"])())})),fn=Object(l["o"])({slotsPerEpoch:Object(l["j"])(),leaderScheduleSlotOffset:Object(l["j"])(),warmup:Object(l["d"])(),firstNormalEpoch:Object(l["j"])(),firstNormalSlot:Object(l["j"])()}),pn=Object(l["l"])(Object(l["m"])(),Object(l["b"])(Object(l["j"])())),gn=Object(l["i"])(Object(l["p"])([Object(l["o"])({}),Object(l["m"])()])),yn=Object(l["o"])({err:gn}),mn=Object(l["h"])("receivedSignature");Object(l["o"])({"solana-core":Object(l["m"])(),"feature-set":Object(l["k"])(Object(l["j"])())}),hn(Object(l["o"])({err:Object(l["i"])(Object(l["p"])([Object(l["o"])({}),Object(l["m"])()])),logs:Object(l["i"])(Object(l["b"])(Object(l["m"])())),accounts:Object(l["k"])(Object(l["i"])(Object(l["b"])(Object(l["o"])({executable:Object(l["d"])(),owner:Object(l["m"])(),lamports:Object(l["j"])(),data:Object(l["b"])(Object(l["m"])()),rentEpoch:Object(l["k"])(Object(l["j"])())})))),unitsConsumed:Object(l["k"])(Object(l["j"])())}));un(ln),un(bn),un(fn),un(pn),un(Object(l["j"])()),hn(Object(l["o"])({total:Object(l["j"])(),circulating:Object(l["j"])(),nonCirculating:Object(l["j"])(),nonCirculatingAccounts:Object(l["b"])(nn)}));const On=Object(l["o"])({amount:Object(l["m"])(),uiAmount:Object(l["i"])(Object(l["j"])()),decimals:Object(l["j"])(),uiAmountString:Object(l["k"])(Object(l["m"])())}),wn=(hn(Object(l["b"])(Object(l["o"])({address:nn,amount:Object(l["m"])(),uiAmount:Object(l["i"])(Object(l["j"])()),decimals:Object(l["j"])(),uiAmountString:Object(l["k"])(Object(l["m"])())}))),hn(Object(l["b"])(Object(l["o"])({pubkey:nn,account:Object(l["o"])({executable:Object(l["d"])(),owner:nn,lamports:Object(l["j"])(),data:sn,rentEpoch:Object(l["j"])()})}))),Object(l["o"])({program:Object(l["m"])(),parsed:Object(l["q"])(),space:Object(l["j"])()})),jn=(hn(Object(l["b"])(Object(l["o"])({pubkey:nn,account:Object(l["o"])({executable:Object(l["d"])(),owner:nn,lamports:Object(l["j"])(),data:wn,rentEpoch:Object(l["j"])()})}))),hn(Object(l["b"])(Object(l["o"])({lamports:Object(l["j"])(),address:nn}))),Object(l["o"])({executable:Object(l["d"])(),owner:nn,lamports:Object(l["j"])(),data:sn,rentEpoch:Object(l["j"])()})),vn=(Object(l["o"])({pubkey:nn,account:jn}),Object(l["e"])(Object(l["p"])([Object(l["g"])(o["Buffer"]),wn]),Object(l["p"])([on,wn]),e=>Array.isArray(e)?Object(l["f"])(e,sn):e)),kn=Object(l["o"])({executable:Object(l["d"])(),owner:nn,lamports:Object(l["j"])(),data:vn,rentEpoch:Object(l["j"])()}),Sn=(Object(l["o"])({pubkey:nn,account:kn}),Object(l["o"])({state:Object(l["p"])([Object(l["h"])("active"),Object(l["h"])("inactive"),Object(l["h"])("activating"),Object(l["h"])("deactivating")]),active:Object(l["j"])(),inactive:Object(l["j"])()}),un(Object(l["b"])(Object(l["o"])({signature:Object(l["m"])(),slot:Object(l["j"])(),err:gn,memo:Object(l["i"])(Object(l["m"])()),blockTime:Object(l["k"])(Object(l["i"])(Object(l["j"])()))}))),un(Object(l["b"])(Object(l["o"])({signature:Object(l["m"])(),slot:Object(l["j"])(),err:gn,memo:Object(l["i"])(Object(l["m"])()),blockTime:Object(l["k"])(Object(l["i"])(Object(l["j"])()))}))),Object(l["o"])({subscription:Object(l["j"])(),result:dn(jn)}),Object(l["o"])({pubkey:nn,account:jn})),En=(Object(l["o"])({subscription:Object(l["j"])(),result:dn(Sn)}),Object(l["o"])({parent:Object(l["j"])(),slot:Object(l["j"])(),root:Object(l["j"])()})),_n=(Object(l["o"])({subscription:Object(l["j"])(),result:En}),Object(l["p"])([Object(l["o"])({type:Object(l["p"])([Object(l["h"])("firstShredReceived"),Object(l["h"])("completed"),Object(l["h"])("optimisticConfirmation"),Object(l["h"])("root")]),slot:Object(l["j"])(),timestamp:Object(l["j"])()}),Object(l["o"])({type:Object(l["h"])("createdBank"),parent:Object(l["j"])(),slot:Object(l["j"])(),timestamp:Object(l["j"])()}),Object(l["o"])({type:Object(l["h"])("frozen"),slot:Object(l["j"])(),timestamp:Object(l["j"])(),stats:Object(l["o"])({numTransactionEntries:Object(l["j"])(),numSuccessfulTransactions:Object(l["j"])(),numFailedTransactions:Object(l["j"])(),maxTransactionsPerEntry:Object(l["j"])()})}),Object(l["o"])({type:Object(l["h"])("dead"),slot:Object(l["j"])(),timestamp:Object(l["j"])(),err:Object(l["m"])()})])),In=(Object(l["o"])({subscription:Object(l["j"])(),result:_n}),Object(l["o"])({subscription:Object(l["j"])(),result:dn(Object(l["p"])([yn,mn]))}),Object(l["o"])({subscription:Object(l["j"])(),result:Object(l["j"])()}),Object(l["o"])({pubkey:Object(l["m"])(),gossip:Object(l["i"])(Object(l["m"])()),tpu:Object(l["i"])(Object(l["m"])()),rpc:Object(l["i"])(Object(l["m"])()),version:Object(l["i"])(Object(l["m"])())}),Object(l["o"])({votePubkey:Object(l["m"])(),nodePubkey:Object(l["m"])(),activatedStake:Object(l["j"])(),epochVoteAccount:Object(l["d"])(),epochCredits:Object(l["b"])(Object(l["n"])([Object(l["j"])(),Object(l["j"])(),Object(l["j"])()])),commission:Object(l["j"])(),lastVote:Object(l["j"])(),rootSlot:Object(l["i"])(Object(l["j"])())})),An=(un(Object(l["o"])({current:Object(l["b"])(In),delinquent:Object(l["b"])(In)})),Object(l["p"])([Object(l["h"])("processed"),Object(l["h"])("confirmed"),Object(l["h"])("finalized")])),Pn=Object(l["o"])({slot:Object(l["j"])(),confirmations:Object(l["i"])(Object(l["j"])()),err:gn,confirmationStatus:Object(l["k"])(An)}),Tn=(hn(Object(l["b"])(Object(l["i"])(Pn))),un(Object(l["j"])()),Object(l["o"])({signatures:Object(l["b"])(Object(l["m"])()),message:Object(l["o"])({accountKeys:Object(l["b"])(Object(l["m"])()),header:Object(l["o"])({numRequiredSignatures:Object(l["j"])(),numReadonlySignedAccounts:Object(l["j"])(),numReadonlyUnsignedAccounts:Object(l["j"])()}),instructions:Object(l["b"])(Object(l["o"])({accounts:Object(l["b"])(Object(l["j"])()),data:Object(l["m"])(),programIdIndex:Object(l["j"])()})),recentBlockhash:Object(l["m"])()})})),Rn=Object(l["o"])({parsed:Object(l["q"])(),program:Object(l["m"])(),programId:nn}),xn=Object(l["o"])({accounts:Object(l["b"])(nn),data:Object(l["m"])(),programId:nn}),Cn=Object(l["p"])([xn,Rn]),Nn=Object(l["p"])([Object(l["o"])({parsed:Object(l["q"])(),program:Object(l["m"])(),programId:Object(l["m"])()}),Object(l["o"])({accounts:Object(l["b"])(Object(l["m"])()),data:Object(l["m"])(),programId:Object(l["m"])()})]),Un=Object(l["e"])(Cn,Nn,e=>"accounts"in e?Object(l["f"])(e,xn):Object(l["f"])(e,Rn)),Bn=Object(l["o"])({signatures:Object(l["b"])(Object(l["m"])()),message:Object(l["o"])({accountKeys:Object(l["b"])(Object(l["o"])({pubkey:nn,signer:Object(l["d"])(),writable:Object(l["d"])()})),instructions:Object(l["b"])(Un),recentBlockhash:Object(l["m"])()})}),zn=Object(l["o"])({accountIndex:Object(l["j"])(),mint:Object(l["m"])(),owner:Object(l["k"])(Object(l["m"])()),uiTokenAmount:On}),Wn=Object(l["o"])({err:gn,fee:Object(l["j"])(),innerInstructions:Object(l["k"])(Object(l["i"])(Object(l["b"])(Object(l["o"])({index:Object(l["j"])(),instructions:Object(l["b"])(Object(l["o"])({accounts:Object(l["b"])(Object(l["j"])()),data:Object(l["m"])(),programIdIndex:Object(l["j"])()}))})))),preBalances:Object(l["b"])(Object(l["j"])()),postBalances:Object(l["b"])(Object(l["j"])()),logMessages:Object(l["k"])(Object(l["i"])(Object(l["b"])(Object(l["m"])()))),preTokenBalances:Object(l["k"])(Object(l["i"])(Object(l["b"])(zn))),postTokenBalances:Object(l["k"])(Object(l["i"])(Object(l["b"])(zn)))}),Ln=Object(l["o"])({err:gn,fee:Object(l["j"])(),innerInstructions:Object(l["k"])(Object(l["i"])(Object(l["b"])(Object(l["o"])({index:Object(l["j"])(),instructions:Object(l["b"])(Un)})))),preBalances:Object(l["b"])(Object(l["j"])()),postBalances:Object(l["b"])(Object(l["j"])()),logMessages:Object(l["k"])(Object(l["i"])(Object(l["b"])(Object(l["m"])()))),preTokenBalances:Object(l["k"])(Object(l["i"])(Object(l["b"])(zn))),postTokenBalances:Object(l["k"])(Object(l["i"])(Object(l["b"])(zn)))}),Dn=(un(Object(l["i"])(Object(l["o"])({blockhash:Object(l["m"])(),previousBlockhash:Object(l["m"])(),parentSlot:Object(l["j"])(),transactions:Object(l["b"])(Object(l["o"])({transaction:Tn,meta:Object(l["i"])(Wn)})),rewards:Object(l["k"])(Object(l["b"])(Object(l["o"])({pubkey:Object(l["m"])(),lamports:Object(l["j"])(),postBalance:Object(l["i"])(Object(l["j"])()),rewardType:Object(l["i"])(Object(l["m"])())}))),blockTime:Object(l["i"])(Object(l["j"])()),blockHeight:Object(l["i"])(Object(l["j"])())}))),un(Object(l["i"])(Object(l["o"])({blockhash:Object(l["m"])(),previousBlockhash:Object(l["m"])(),parentSlot:Object(l["j"])(),transactions:Object(l["b"])(Object(l["o"])({transaction:Tn,meta:Object(l["i"])(Wn)})),rewards:Object(l["k"])(Object(l["b"])(Object(l["o"])({pubkey:Object(l["m"])(),lamports:Object(l["j"])(),postBalance:Object(l["i"])(Object(l["j"])()),rewardType:Object(l["i"])(Object(l["m"])())}))),blockTime:Object(l["i"])(Object(l["j"])())}))),un(Object(l["i"])(Object(l["o"])({blockhash:Object(l["m"])(),previousBlockhash:Object(l["m"])(),parentSlot:Object(l["j"])(),signatures:Object(l["b"])(Object(l["m"])()),blockTime:Object(l["i"])(Object(l["j"])())}))),un(Object(l["i"])(Object(l["o"])({slot:Object(l["j"])(),meta:Wn,blockTime:Object(l["k"])(Object(l["i"])(Object(l["j"])())),transaction:Tn}))),un(Object(l["i"])(Object(l["o"])({slot:Object(l["j"])(),transaction:Bn,meta:Object(l["i"])(Ln),blockTime:Object(l["k"])(Object(l["i"])(Object(l["j"])()))}))),hn(Object(l["o"])({blockhash:Object(l["m"])(),feeCalculator:Object(l["o"])({lamportsPerSignature:Object(l["j"])()})})),hn(Object(l["o"])({blockhash:Object(l["m"])(),lastValidBlockHeight:Object(l["j"])()})),Object(l["o"])({slot:Object(l["j"])(),numTransactions:Object(l["j"])(),numSlots:Object(l["j"])(),samplePeriodSecs:Object(l["j"])()})),Mn=(un(Object(l["b"])(Dn)),hn(Object(l["i"])(Object(l["o"])({feeCalculator:Object(l["o"])({lamportsPerSignature:Object(l["j"])()})}))),un(Object(l["m"])()),un(Object(l["m"])()),Object(l["o"])({err:gn,logs:Object(l["b"])(Object(l["m"])()),signature:Object(l["m"])()}));Object(l["o"])({result:dn(Mn),subscription:Object(l["j"])()});class Kn{constructor(e){this._keypair=void 0,this._keypair=e||i.a.sign.keyPair()}static generate(){return new Kn(i.a.sign.keyPair())}static fromSecretKey(e,t){const r=i.a.sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=new TextEncoder,t=e.encode("@solana/web3.js-validation-v1"),n=i.a.sign.detached(t,r.secretKey);if(!i.a.sign.detached.verify(t,n,r.publicKey))throw new Error("provided secretKey is invalid")}return new Kn(r)}static fromSeed(e){return new Kn(i.a.sign.keyPair.fromSeed(e))}get publicKey(){return new wr(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const qn=64,Fn=32,Hn=64,Gn=d["struct"]([d["u8"]("numSignatures"),d["u8"]("padding"),d["u16"]("signatureOffset"),d["u16"]("signatureInstructionIndex"),d["u16"]("publicKeyOffset"),d["u16"]("publicKeyInstructionIndex"),d["u16"]("messageDataOffset"),d["u16"]("messageDataSize"),d["u16"]("messageInstructionIndex")]);class Vn{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;Br(t.length===Fn,`Public Key must be ${Fn} bytes but received ${t.length} bytes`),Br(n.length===Hn,`Signature must be ${Hn} bytes but received ${n.length} bytes`);const s=Gn.span,a=s+t.length,c=a+n.length,u=1,h=o["Buffer"].alloc(c+r.length);return Gn.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:i,publicKeyOffset:s,publicKeyInstructionIndex:i,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:i},h),h.fill(t,s),h.fill(n,a),h.fill(r,c),new Dr({keys:[],programId:Vn.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Br(t.length===qn,`Private key must be ${qn} bytes but received ${t.length} bytes`);try{const e=Kn.fromSecretKey(t),o=e.publicKey.toBytes(),s=i.a.sign.detached(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:s,instructionIndex:n})}catch(o){throw new Error("Error creating instruction; "+o)}}}Vn.programId=new wr("Ed25519SigVerify111111111111111111111111111");const Yn=new wr("StakeConfig11111111111111111111111111111111");class Jn{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Jn.default=new Jn(0,0,wr.default);const $n=Object.freeze({Initialize:{index:0,layout:d["struct"]([d["u32"]("instruction"),Ar(),Pr()])},Authorize:{index:1,layout:d["struct"]([d["u32"]("instruction"),_r("newAuthorized"),d["u32"]("stakeAuthorizationType")])},Delegate:{index:2,layout:d["struct"]([d["u32"]("instruction")])},Split:{index:3,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports")])},Withdraw:{index:4,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports")])},Deactivate:{index:5,layout:d["struct"]([d["u32"]("instruction")])},Merge:{index:7,layout:d["struct"]([d["u32"]("instruction")])},AuthorizeWithSeed:{index:8,layout:d["struct"]([d["u32"]("instruction"),_r("newAuthorized"),d["u32"]("stakeAuthorizationType"),Ir("authoritySeed"),_r("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Xn{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||Jn.default,o=$n.Initialize,s=Yr(o,{authorized:{staker:y(r.staker.toBuffer()),withdrawer:y(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:y(i.custodian.toBuffer())}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Fr,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Dr(a)}static createAccountWithSeed(e){const t=new Mr;t.add(Qr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new Mr;t.add(Qr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=$n.Delegate,o=Yr(i);return(new Mr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Hr,isSigner:!1,isWritable:!1},{pubkey:Yn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=e,s=$n.Authorize,a=Yr(s,{newAuthorized:y(n.toBuffer()),stakeAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!1,isWritable:!1}),(new Mr).add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=$n.AuthorizeWithSeed,u=Yr(c,{newAuthorized:y(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:y(i.toBuffer())}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Kr,isSigner:!1,isWritable:!1}];return a&&h.push({pubkey:a,isSigner:!1,isWritable:!1}),(new Mr).add({keys:h,programId:this.programId,data:u})}static split(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,o=new Mr;o.add(Qr.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:0,space:this.space,programId:this.programId}));const s=$n.Split,a=Yr(s,{lamports:i});return o.add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=$n.Merge,o=Yr(i);return(new Mr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Hr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=e,s=$n.Withdraw,a=Yr(s,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Hr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&c.push({pubkey:o,isSigner:!1,isWritable:!1}),(new Mr).add({keys:c,programId:this.programId,data:a})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=$n.Deactivate,i=Yr(n);return(new Mr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}Xn.programId=new wr("Stake11111111111111111111111111111111111111"),Xn.space=200;const{publicKeyCreate:Zn,ecdsaSign:Qn}=f.a,ei=32,ti=20,ri=64,ni=11,ii=d["struct"]([d["u8"]("numSignatures"),d["u16"]("signatureOffset"),d["u8"]("signatureInstructionIndex"),d["u16"]("ethAddressOffset"),d["u8"]("ethAddressInstructionIndex"),d["u16"]("messageDataOffset"),d["u16"]("messageDataSize"),d["u8"]("messageInstructionIndex"),d["blob"](20,"ethAddress"),d["blob"](64,"signature"),d["u8"]("recoveryId")]);class oi{constructor(){}static publicKeyToEthAddress(e){Br(e.length===ri,`Public key must be ${ri} bytes but received ${e.length} bytes`);try{return o["Buffer"].from(g.a.keccak_256.update(y(e)).digest()).slice(-ti)}catch(t){throw new Error("Error constructing Ethereum address: "+t)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:o}=e;return oi.createInstructionWithEthAddress({ethAddress:oi.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:s=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?o["Buffer"].from(t.substr(2),"hex"):o["Buffer"].from(t,"hex"):t,Br(a.length===ti,`Address must be ${ti} bytes but received ${a.length} bytes`);const c=1+ni,u=c,h=c+a.length,d=h+n.length+1,l=1,b=o["Buffer"].alloc(ii.span+r.length);return ii.encode({numSignatures:l,signatureOffset:h,signatureInstructionIndex:s,ethAddressOffset:u,ethAddressInstructionIndex:s,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:s,signature:y(n),ethAddress:y(a),recoveryId:i},b),b.fill(y(r),ii.span),new Dr({keys:[],programId:oi.programId,data:b})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Br(t.length===ei,`Private key must be ${ei} bytes but received ${t.length} bytes`);try{const e=y(t),i=Zn(e,!1).slice(1),s=o["Buffer"].from(g.a.keccak_256.update(y(r)).digest()),{signature:a,recid:c}=Qn(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:c,instructionIndex:n})}catch(i){throw new Error("Error creating instruction; "+i)}}}oi.programId=new wr("KeccakSecp256k11111111111111111111111111111");new wr("Va1idator1nfo111111111111111111111111111111"),Object(l["o"])({name:Object(l["m"])(),website:Object(l["k"])(Object(l["m"])()),details:Object(l["k"])(Object(l["m"])()),keybaseUsername:Object(l["k"])(Object(l["m"])())});new wr("Vote111111111111111111111111111111111111111"),d["struct"]([_r("nodePubkey"),_r("authorizedWithdrawer"),d["u8"]("commission"),d["nu64"](),d["seq"](d["struct"]([d["nu64"]("slot"),d["u32"]("confirmationCount")]),d["offset"](d["u32"](),-8),"votes"),d["u8"]("rootSlotValid"),d["nu64"]("rootSlot"),d["nu64"](),d["seq"](d["struct"]([d["nu64"]("epoch"),_r("authorizedVoter")]),d["offset"](d["u32"](),-8),"authorizedVoters"),d["struct"]([d["seq"](d["struct"]([_r("authorizedPubkey"),d["nu64"]("epochOfLastAuthorizedSwitch"),d["nu64"]("targetEpoch")]),32,"buf"),d["nu64"]("idx"),d["u8"]("isEmpty")],"priorVoters"),d["nu64"](),d["seq"](d["struct"]([d["nu64"]("epoch"),d["nu64"]("credits"),d["nu64"]("prevCredits")]),d["offset"](d["u32"](),-8),"epochCredits"),d["struct"]([d["nu64"]("slot"),d["nu64"]("timestamp")],"lastTimestamp")]);const si=Object.freeze({InitializeAccount:{index:0,layout:d["struct"]([d["u32"]("instruction"),Tr()])},Authorize:{index:1,layout:d["struct"]([d["u32"]("instruction"),_r("newAuthorized"),d["u32"]("voteAuthorizationType")])},Withdraw:{index:3,layout:d["struct"]([d["u32"]("instruction"),d["ns64"]("lamports")])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ai{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=si.InitializeAccount,o=Yr(i,{voteInit:{nodePubkey:y(n.nodePubkey.toBuffer()),authorizedVoter:y(n.authorizedVoter.toBuffer()),authorizedWithdrawer:y(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Fr,isSigner:!1,isWritable:!1},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Dr(s)}static createAccount(e){const t=new Mr;return t.add(Qr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,o=si.Authorize,s=Yr(o,{newAuthorized:y(n.toBuffer()),voteAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Mr).add({keys:a,programId:this.programId,data:s})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,o=si.Withdraw,s=Yr(o,{lamports:n}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Mr).add({keys:a,programId:this.programId,data:s})}}ai.programId=new wr("Vote111111111111111111111111111111111111111"),ai.space=3731}).call(this,r("c8ba"))},"0bfb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r("c10a"),i=r("4f17"),o=r("5efe");function s(e,t){const[r,o]=c(t);return new n.EthereumRpcError(e,r||i.getMessageFromCode(e),o)}function a(e,t){const[r,o]=c(t);return new n.EthereumProviderError(e,r||i.getMessageFromCode(e),o)}function c(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!==typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>s(o.errorCodes.rpc.parse,e),invalidRequest:e=>s(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>s(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>s(o.errorCodes.rpc.methodNotFound,e),internal:e=>s(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:e=>s(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>s(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>s(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>s(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>s(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>s(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>a(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!==typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,i)}}}},"1f1d":function(e,t,r){"use strict";r.r(t),r.d(t,"SolanaWalletAdapter",(function(){return l}));var n=r("9523"),i=r.n(n),o=r("b5dd"),s=r("b089"),a=r("7b09"),c=r("5c7d"),u=r.n(c);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class l extends s["e"]{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),i()(this,"name",s["i"].TORUS_SOLANA),i()(this,"adapterNamespace",s["c"].SOLANA),i()(this,"currentChainNamespace",s["f"].SOLANA),i()(this,"type",s["a"].EXTERNAL),i()(this,"status",s["d"].NOT_READY),i()(this,"torusInstance",null),i()(this,"torusWalletOptions",void 0),i()(this,"initParams",void 0),i()(this,"loginSettings",{}),i()(this,"solanaProvider",null),i()(this,"rehydrated",!1),this.torusWalletOptions=e.adapterSettings||{},this.initParams=e.initParams||{},this.loginSettings=e.loginSettings||{},this.chainConfig=e.chainConfig||null}get provider(){var e;return this.status===s["d"].CONNECTED&&this.solanaProvider&&(null===(e=this.solanaProvider)||void 0===e?void 0:e.provider)||null}set provider(e){throw new Error("Not implemented")}async init(e){let t;if(super.checkInitializationRequirements(),this.chainConfig){const{chainId:e,blockExplorer:r,displayName:n,rpcTarget:i,ticker:o,tickerName:s}=this.chainConfig;t={chainId:e,rpcTarget:i,blockExplorerUrl:r,displayName:n,tickerName:s,ticker:o,logo:""}}else{this.chainConfig=Object(s["m"])(s["f"].SOLANA,"0x1");const{blockExplorer:e,displayName:r,ticker:n,tickerName:i,rpcTarget:o,chainId:a}=this.chainConfig;t={chainId:a,rpcTarget:o,blockExplorerUrl:e,displayName:r,ticker:n,tickerName:i,logo:""}}this.torusInstance=new o["a"](this.torusWalletOptions),u.a.debug("solana wallet network",t),await this.torusInstance.init(d(d({showTorusButton:!1},this.initParams),{},{network:t})),u.a.debug("solana chainConfig",this.chainConfig),this.solanaProvider=new a["TorusInjectedProvider"]({config:{chainConfig:this.chainConfig}}),this.status=s["d"].READY,this.emit(s["b"].READY,s["i"].TORUS_SOLANA);try{e.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(r){u.a.error("Failed to connect with cached torus solana provider",r),this.emit(s["b"].ERRORED,r)}}async connect(){if(super.checkConnectionRequirements(),!this.torusInstance)throw s["j"].notReady("Torus wallet is not initialized");if(!this.solanaProvider)throw s["j"].notReady("Torus wallet is not initialized");this.status=s["d"].CONNECTING,this.emit(s["b"].CONNECTING,{adapter:s["i"].TORUS_SOLANA});try{return await this.torusInstance.login(this.loginSettings),await this.solanaProvider.setupProvider(this.torusInstance.provider),this.status=s["d"].CONNECTED,this.torusInstance.showTorusButton(),this.emit(s["d"].CONNECTED,{adapter:s["i"].TORUS_SOLANA,reconnected:this.rehydrated}),this.provider}catch(e){throw this.status=s["d"].READY,this.rehydrated=!1,this.emit(s["b"].ERRORED,e),s["k"].connectionError("Failed to login with torus solana wallet")}}async disconnect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};if(this.status!==s["d"].CONNECTED)throw s["k"].notConnectedError("Not connected with wallet");if(!this.torusInstance)throw s["j"].notReady("Torus wallet is not initialized");await this.torusInstance.logout(),e.cleanup?(this.status=s["d"].NOT_READY,this.torusInstance=null,this.solanaProvider=null):this.status=s["d"].READY,this.emit(s["b"].DISCONNECTED)}async getUserInfo(){if(this.status!==s["d"].CONNECTED)throw s["k"].notConnectedError("Not connected with wallet");if(!this.torusInstance)throw s["j"].notReady("Torus wallet is not initialized");const e=await this.torusInstance.getUserInfo();return e}setAdapterSettings(e){}}},"2a07":function(e,t,r){(function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),a=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function g(e,t,r,n){return p(e,t,r,n,16)}function y(e,t,r,n){return p(e,t,r,n,32)}function m(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,b=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,O=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,j=o,v=s,k=a,S=c,E=u,_=h,I=d,A=l,P=b,T=f,R=p,x=g,C=y,N=m,U=O,B=w,z=0;z<20;z+=2)i=j+C|0,E^=i<<7|i>>>25,i=E+j|0,P^=i<<9|i>>>23,i=P+E|0,C^=i<<13|i>>>19,i=C+P|0,j^=i<<18|i>>>14,i=_+v|0,T^=i<<7|i>>>25,i=T+_|0,N^=i<<9|i>>>23,i=N+T|0,v^=i<<13|i>>>19,i=v+N|0,_^=i<<18|i>>>14,i=R+I|0,U^=i<<7|i>>>25,i=U+R|0,k^=i<<9|i>>>23,i=k+U|0,I^=i<<13|i>>>19,i=I+k|0,R^=i<<18|i>>>14,i=B+x|0,S^=i<<7|i>>>25,i=S+B|0,A^=i<<9|i>>>23,i=A+S|0,x^=i<<13|i>>>19,i=x+A|0,B^=i<<18|i>>>14,i=j+S|0,v^=i<<7|i>>>25,i=v+j|0,k^=i<<9|i>>>23,i=k+v|0,S^=i<<13|i>>>19,i=S+k|0,j^=i<<18|i>>>14,i=_+E|0,I^=i<<7|i>>>25,i=I+_|0,A^=i<<9|i>>>23,i=A+I|0,E^=i<<13|i>>>19,i=E+A|0,_^=i<<18|i>>>14,i=R+T|0,x^=i<<7|i>>>25,i=x+R|0,P^=i<<9|i>>>23,i=P+x|0,T^=i<<13|i>>>19,i=T+P|0,R^=i<<18|i>>>14,i=B+U|0,C^=i<<7|i>>>25,i=C+B|0,N^=i<<9|i>>>23,i=N+C|0,U^=i<<13|i>>>19,i=U+N|0,B^=i<<18|i>>>14;j=j+o|0,v=v+s|0,k=k+a|0,S=S+c|0,E=E+u|0,_=_+h|0,I=I+d|0,A=A+l|0,P=P+b|0,T=T+f|0,R=R+p|0,x=x+g|0,C=C+y|0,N=N+m|0,U=U+O|0,B=B+w|0,e[0]=j>>>0&255,e[1]=j>>>8&255,e[2]=j>>>16&255,e[3]=j>>>24&255,e[4]=v>>>0&255,e[5]=v>>>8&255,e[6]=v>>>16&255,e[7]=v>>>24&255,e[8]=k>>>0&255,e[9]=k>>>8&255,e[10]=k>>>16&255,e[11]=k>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=_>>>0&255,e[21]=_>>>8&255,e[22]=_>>>16&255,e[23]=_>>>24&255,e[24]=I>>>0&255,e[25]=I>>>8&255,e[26]=I>>>16&255,e[27]=I>>>24&255,e[28]=A>>>0&255,e[29]=A>>>8&255,e[30]=A>>>16&255,e[31]=A>>>24&255,e[32]=P>>>0&255,e[33]=P>>>8&255,e[34]=P>>>16&255,e[35]=P>>>24&255,e[36]=T>>>0&255,e[37]=T>>>8&255,e[38]=T>>>16&255,e[39]=T>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=x>>>0&255,e[45]=x>>>8&255,e[46]=x>>>16&255,e[47]=x>>>24&255,e[48]=C>>>0&255,e[49]=C>>>8&255,e[50]=C>>>16&255,e[51]=C>>>24&255,e[52]=N>>>0&255,e[53]=N>>>8&255,e[54]=N>>>16&255,e[55]=N>>>24&255,e[56]=U>>>0&255,e[57]=U>>>8&255,e[58]=U>>>16&255,e[59]=U>>>24&255,e[60]=B>>>0&255,e[61]=B>>>8&255,e[62]=B>>>16&255,e[63]=B>>>24&255}function O(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,b=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,O=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,j=o,v=s,k=a,S=c,E=u,_=h,I=d,A=l,P=b,T=f,R=p,x=g,C=y,N=m,U=O,B=w,z=0;z<20;z+=2)i=j+C|0,E^=i<<7|i>>>25,i=E+j|0,P^=i<<9|i>>>23,i=P+E|0,C^=i<<13|i>>>19,i=C+P|0,j^=i<<18|i>>>14,i=_+v|0,T^=i<<7|i>>>25,i=T+_|0,N^=i<<9|i>>>23,i=N+T|0,v^=i<<13|i>>>19,i=v+N|0,_^=i<<18|i>>>14,i=R+I|0,U^=i<<7|i>>>25,i=U+R|0,k^=i<<9|i>>>23,i=k+U|0,I^=i<<13|i>>>19,i=I+k|0,R^=i<<18|i>>>14,i=B+x|0,S^=i<<7|i>>>25,i=S+B|0,A^=i<<9|i>>>23,i=A+S|0,x^=i<<13|i>>>19,i=x+A|0,B^=i<<18|i>>>14,i=j+S|0,v^=i<<7|i>>>25,i=v+j|0,k^=i<<9|i>>>23,i=k+v|0,S^=i<<13|i>>>19,i=S+k|0,j^=i<<18|i>>>14,i=_+E|0,I^=i<<7|i>>>25,i=I+_|0,A^=i<<9|i>>>23,i=A+I|0,E^=i<<13|i>>>19,i=E+A|0,_^=i<<18|i>>>14,i=R+T|0,x^=i<<7|i>>>25,i=x+R|0,P^=i<<9|i>>>23,i=P+x|0,T^=i<<13|i>>>19,i=T+P|0,R^=i<<18|i>>>14,i=B+U|0,C^=i<<7|i>>>25,i=C+B|0,N^=i<<9|i>>>23,i=N+C|0,U^=i<<13|i>>>19,i=U+N|0,B^=i<<18|i>>>14;e[0]=j>>>0&255,e[1]=j>>>8&255,e[2]=j>>>16&255,e[3]=j>>>24&255,e[4]=_>>>0&255,e[5]=_>>>8&255,e[6]=_>>>16&255,e[7]=_>>>24&255,e[8]=R>>>0&255,e[9]=R>>>8&255,e[10]=R>>>16&255,e[11]=R>>>24&255,e[12]=B>>>0&255,e[13]=B>>>8&255,e[14]=B>>>16&255,e[15]=B>>>24&255,e[16]=I>>>0&255,e[17]=I>>>8&255,e[18]=I>>>16&255,e[19]=I>>>24&255,e[20]=A>>>0&255,e[21]=A>>>8&255,e[22]=A>>>16&255,e[23]=A>>>24&255,e[24]=P>>>0&255,e[25]=P>>>8&255,e[26]=P>>>16&255,e[27]=P>>>24&255,e[28]=T>>>0&255,e[29]=T>>>8&255,e[30]=T>>>16&255,e[31]=T>>>24&255}function w(e,t,r,n){m(e,t,r,n)}function j(e,t,r,n){O(e,t,r,n)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function k(e,t,r,n,i,o,s){var a,c,u=new Uint8Array(16),h=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];while(i>=64){for(w(h,u,s,v),c=0;c<64;c++)e[t+c]=r[n+c]^h[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(w(h,u,s,v),c=0;c<i;c++)e[t+c]=r[n+c]^h[c];return 0}function S(e,t,r,n,i){var o,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];while(r>=64){for(w(c,a,i,v),s=0;s<64;s++)e[t+s]=c[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(w(c,a,i,v),s=0;s<r;s++)e[t+s]=c[s];return 0}function E(e,t,r,n,i){var o=new Uint8Array(32);j(o,n,i,v);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return S(e,t,r,s,o)}function _(e,t,r,n,i,o,s){var a=new Uint8Array(32);j(a,o,s,v);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return k(e,t,r,n,i,c,a)}var I=function(e){var t,r,n,i,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function A(e,t,r,n,i,o){var s=new I(o);return s.update(r,n,i),s.finish(e,t),0}function P(e,t,r,n,i,o){var s=new Uint8Array(16);return A(s,0,r,n,i,o),g(e,t,s,0)}function T(e,t,r,n,i){var o;if(r<32)return-1;for(_(e,0,t,0,r,n,i),A(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function R(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(E(s,0,32,n,i),0!==P(t,16,t,32,r-32,s))return-1;for(_(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function x(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function C(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function N(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function U(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(C(a),C(a),C(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,N(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function B(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return U(r,e),U(n,t),y(r,0,n,0)}function z(e){var t=new Uint8Array(32);return U(t,e),1&t[0]}function W(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function L(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function D(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function M(e,t,r){var n,i,o=0,s=0,a=0,c=0,u=0,h=0,d=0,l=0,b=0,f=0,p=0,g=0,y=0,m=0,O=0,w=0,j=0,v=0,k=0,S=0,E=0,_=0,I=0,A=0,P=0,T=0,R=0,x=0,C=0,N=0,U=0,B=r[0],z=r[1],W=r[2],L=r[3],D=r[4],M=r[5],K=r[6],q=r[7],F=r[8],H=r[9],G=r[10],V=r[11],Y=r[12],J=r[13],$=r[14],X=r[15];n=t[0],o+=n*B,s+=n*z,a+=n*W,c+=n*L,u+=n*D,h+=n*M,d+=n*K,l+=n*q,b+=n*F,f+=n*H,p+=n*G,g+=n*V,y+=n*Y,m+=n*J,O+=n*$,w+=n*X,n=t[1],s+=n*B,a+=n*z,c+=n*W,u+=n*L,h+=n*D,d+=n*M,l+=n*K,b+=n*q,f+=n*F,p+=n*H,g+=n*G,y+=n*V,m+=n*Y,O+=n*J,w+=n*$,j+=n*X,n=t[2],a+=n*B,c+=n*z,u+=n*W,h+=n*L,d+=n*D,l+=n*M,b+=n*K,f+=n*q,p+=n*F,g+=n*H,y+=n*G,m+=n*V,O+=n*Y,w+=n*J,j+=n*$,v+=n*X,n=t[3],c+=n*B,u+=n*z,h+=n*W,d+=n*L,l+=n*D,b+=n*M,f+=n*K,p+=n*q,g+=n*F,y+=n*H,m+=n*G,O+=n*V,w+=n*Y,j+=n*J,v+=n*$,k+=n*X,n=t[4],u+=n*B,h+=n*z,d+=n*W,l+=n*L,b+=n*D,f+=n*M,p+=n*K,g+=n*q,y+=n*F,m+=n*H,O+=n*G,w+=n*V,j+=n*Y,v+=n*J,k+=n*$,S+=n*X,n=t[5],h+=n*B,d+=n*z,l+=n*W,b+=n*L,f+=n*D,p+=n*M,g+=n*K,y+=n*q,m+=n*F,O+=n*H,w+=n*G,j+=n*V,v+=n*Y,k+=n*J,S+=n*$,E+=n*X,n=t[6],d+=n*B,l+=n*z,b+=n*W,f+=n*L,p+=n*D,g+=n*M,y+=n*K,m+=n*q,O+=n*F,w+=n*H,j+=n*G,v+=n*V,k+=n*Y,S+=n*J,E+=n*$,_+=n*X,n=t[7],l+=n*B,b+=n*z,f+=n*W,p+=n*L,g+=n*D,y+=n*M,m+=n*K,O+=n*q,w+=n*F,j+=n*H,v+=n*G,k+=n*V,S+=n*Y,E+=n*J,_+=n*$,I+=n*X,n=t[8],b+=n*B,f+=n*z,p+=n*W,g+=n*L,y+=n*D,m+=n*M,O+=n*K,w+=n*q,j+=n*F,v+=n*H,k+=n*G,S+=n*V,E+=n*Y,_+=n*J,I+=n*$,A+=n*X,n=t[9],f+=n*B,p+=n*z,g+=n*W,y+=n*L,m+=n*D,O+=n*M,w+=n*K,j+=n*q,v+=n*F,k+=n*H,S+=n*G,E+=n*V,_+=n*Y,I+=n*J,A+=n*$,P+=n*X,n=t[10],p+=n*B,g+=n*z,y+=n*W,m+=n*L,O+=n*D,w+=n*M,j+=n*K,v+=n*q,k+=n*F,S+=n*H,E+=n*G,_+=n*V,I+=n*Y,A+=n*J,P+=n*$,T+=n*X,n=t[11],g+=n*B,y+=n*z,m+=n*W,O+=n*L,w+=n*D,j+=n*M,v+=n*K,k+=n*q,S+=n*F,E+=n*H,_+=n*G,I+=n*V,A+=n*Y,P+=n*J,T+=n*$,R+=n*X,n=t[12],y+=n*B,m+=n*z,O+=n*W,w+=n*L,j+=n*D,v+=n*M,k+=n*K,S+=n*q,E+=n*F,_+=n*H,I+=n*G,A+=n*V,P+=n*Y,T+=n*J,R+=n*$,x+=n*X,n=t[13],m+=n*B,O+=n*z,w+=n*W,j+=n*L,v+=n*D,k+=n*M,S+=n*K,E+=n*q,_+=n*F,I+=n*H,A+=n*G,P+=n*V,T+=n*Y,R+=n*J,x+=n*$,C+=n*X,n=t[14],O+=n*B,w+=n*z,j+=n*W,v+=n*L,k+=n*D,S+=n*M,E+=n*K,_+=n*q,I+=n*F,A+=n*H,P+=n*G,T+=n*V,R+=n*Y,x+=n*J,C+=n*$,N+=n*X,n=t[15],w+=n*B,j+=n*z,v+=n*W,k+=n*L,S+=n*D,E+=n*M,_+=n*K,I+=n*q,A+=n*F,P+=n*H,T+=n*G,R+=n*V,x+=n*Y,C+=n*J,N+=n*$,U+=n*X,o+=38*j,s+=38*v,a+=38*k,c+=38*S,u+=38*E,h+=38*_,d+=38*I,l+=38*A,b+=38*P,f+=38*T,p+=38*R,g+=38*x,y+=38*C,m+=38*N,O+=38*U,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=O+i+65535,i=Math.floor(n/65536),O=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=O+i+65535,i=Math.floor(n/65536),O=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=h,e[6]=d,e[7]=l,e[8]=b,e[9]=f,e[10]=p,e[11]=g,e[12]=y,e[13]=m,e[14]=O,e[15]=w}function K(e,t){M(e,t,t)}function q(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)K(i,i),2!==n&&4!==n&&M(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function F(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)K(i,i),1!==n&&M(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function H(e,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),u=t(),h=t(),d=t(),l=t(),b=t(),f=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,W(a,n),o=0;o<16;o++)h[o]=a[o],l[o]=u[o]=d[o]=0;for(u[0]=l[0]=1,o=254;o>=0;--o)i=s[o>>>3]>>>(7&o)&1,N(u,h,i),N(d,l,i),L(b,u,d),D(u,u,d),L(d,h,l),D(h,h,l),K(l,b),K(f,u),M(u,d,u),M(d,h,b),L(b,u,d),D(u,u,d),K(h,u),D(d,l,f),M(u,d,c),L(u,u,l),M(d,d,u),M(u,l,f),M(l,h,a),K(h,b),N(u,h,i),N(d,l,i);for(o=0;o<16;o++)a[o+16]=u[o],a[o+32]=d[o],a[o+48]=h[o],a[o+64]=l[o];var p=a.subarray(32),g=a.subarray(16);return q(p,p),M(g,g,p),U(e,g),0}function G(e,t){return H(e,t,o)}function V(e,t){return n(t,32),G(e,t)}function Y(e,t,r){var n=new Uint8Array(32);return H(n,r,t),j(e,i,n,v)}I.prototype.blocks=function(e,t,r){var n,i,o,s,a,c,u,h,d,l,b,f,p,g,y,m,O,w,j,v=this.fin?0:2048,k=this.h[0],S=this.h[1],E=this.h[2],_=this.h[3],I=this.h[4],A=this.h[5],P=this.h[6],T=this.h[7],R=this.h[8],x=this.h[9],C=this.r[0],N=this.r[1],U=this.r[2],B=this.r[3],z=this.r[4],W=this.r[5],L=this.r[6],D=this.r[7],M=this.r[8],K=this.r[9];while(r>=16)n=255&e[t+0]|(255&e[t+1])<<8,k+=8191&n,i=255&e[t+2]|(255&e[t+3])<<8,S+=8191&(n>>>13|i<<3),o=255&e[t+4]|(255&e[t+5])<<8,E+=8191&(i>>>10|o<<6),s=255&e[t+6]|(255&e[t+7])<<8,_+=8191&(o>>>7|s<<9),a=255&e[t+8]|(255&e[t+9])<<8,I+=8191&(s>>>4|a<<12),A+=a>>>1&8191,c=255&e[t+10]|(255&e[t+11])<<8,P+=8191&(a>>>14|c<<2),u=255&e[t+12]|(255&e[t+13])<<8,T+=8191&(c>>>11|u<<5),h=255&e[t+14]|(255&e[t+15])<<8,R+=8191&(u>>>8|h<<8),x+=h>>>5|v,d=0,l=d,l+=k*C,l+=S*(5*K),l+=E*(5*M),l+=_*(5*D),l+=I*(5*L),d=l>>>13,l&=8191,l+=A*(5*W),l+=P*(5*z),l+=T*(5*B),l+=R*(5*U),l+=x*(5*N),d+=l>>>13,l&=8191,b=d,b+=k*N,b+=S*C,b+=E*(5*K),b+=_*(5*M),b+=I*(5*D),d=b>>>13,b&=8191,b+=A*(5*L),b+=P*(5*W),b+=T*(5*z),b+=R*(5*B),b+=x*(5*U),d+=b>>>13,b&=8191,f=d,f+=k*U,f+=S*N,f+=E*C,f+=_*(5*K),f+=I*(5*M),d=f>>>13,f&=8191,f+=A*(5*D),f+=P*(5*L),f+=T*(5*W),f+=R*(5*z),f+=x*(5*B),d+=f>>>13,f&=8191,p=d,p+=k*B,p+=S*U,p+=E*N,p+=_*C,p+=I*(5*K),d=p>>>13,p&=8191,p+=A*(5*M),p+=P*(5*D),p+=T*(5*L),p+=R*(5*W),p+=x*(5*z),d+=p>>>13,p&=8191,g=d,g+=k*z,g+=S*B,g+=E*U,g+=_*N,g+=I*C,d=g>>>13,g&=8191,g+=A*(5*K),g+=P*(5*M),g+=T*(5*D),g+=R*(5*L),g+=x*(5*W),d+=g>>>13,g&=8191,y=d,y+=k*W,y+=S*z,y+=E*B,y+=_*U,y+=I*N,d=y>>>13,y&=8191,y+=A*C,y+=P*(5*K),y+=T*(5*M),y+=R*(5*D),y+=x*(5*L),d+=y>>>13,y&=8191,m=d,m+=k*L,m+=S*W,m+=E*z,m+=_*B,m+=I*U,d=m>>>13,m&=8191,m+=A*N,m+=P*C,m+=T*(5*K),m+=R*(5*M),m+=x*(5*D),d+=m>>>13,m&=8191,O=d,O+=k*D,O+=S*L,O+=E*W,O+=_*z,O+=I*B,d=O>>>13,O&=8191,O+=A*U,O+=P*N,O+=T*C,O+=R*(5*K),O+=x*(5*M),d+=O>>>13,O&=8191,w=d,w+=k*M,w+=S*D,w+=E*L,w+=_*W,w+=I*z,d=w>>>13,w&=8191,w+=A*B,w+=P*U,w+=T*N,w+=R*C,w+=x*(5*K),d+=w>>>13,w&=8191,j=d,j+=k*K,j+=S*M,j+=E*D,j+=_*L,j+=I*W,d=j>>>13,j&=8191,j+=A*z,j+=P*B,j+=T*U,j+=R*N,j+=x*C,d+=j>>>13,j&=8191,d=(d<<2)+d|0,d=d+l|0,l=8191&d,d>>>=13,b+=d,k=l,S=b,E=f,_=p,I=g,A=y,P=m,T=O,R=w,x=j,t+=16,r-=16;this.h[0]=k,this.h[1]=S,this.h[2]=E,this.h[3]=_,this.h[4]=I,this.h[5]=A,this.h[6]=P,this.h[7]=T,this.h[8]=R,this.h[9]=x},I.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},I.prototype.update=function(e,t,r){var n,i;if(this.leftover){for(i=16-this.leftover,i>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var J=T,$=R;function X(e,t,r,n,i,o){var s=new Uint8Array(32);return Y(s,i,o),J(e,t,r,n,s)}function Z(e,t,r,n,i,o){var s=new Uint8Array(32);return Y(s,i,o),$(e,t,r,n,s)}var Q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ee(e,t,r,n){var i,o,s,a,c,u,h,d,l,b,f,p,g,y,m,O,w,j,v,k,S,E,_,I,A,P,T=new Int32Array(16),R=new Int32Array(16),x=e[0],C=e[1],N=e[2],U=e[3],B=e[4],z=e[5],W=e[6],L=e[7],D=t[0],M=t[1],K=t[2],q=t[3],F=t[4],H=t[5],G=t[6],V=t[7],Y=0;while(n>=128){for(v=0;v<16;v++)k=8*v+Y,T[v]=r[k+0]<<24|r[k+1]<<16|r[k+2]<<8|r[k+3],R[v]=r[k+4]<<24|r[k+5]<<16|r[k+6]<<8|r[k+7];for(v=0;v<80;v++)if(i=x,o=C,s=N,a=U,c=B,u=z,h=W,d=L,l=D,b=M,f=K,p=q,g=F,y=H,m=G,O=V,S=L,E=V,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=(B>>>14|F<<18)^(B>>>18|F<<14)^(F>>>9|B<<23),E=(F>>>14|B<<18)^(F>>>18|B<<14)^(B>>>9|F<<23),_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,S=B&z^~B&W,E=F&H^~F&G,_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,S=Q[2*v],E=Q[2*v+1],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,S=T[v%16],E=R[v%16],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,w=65535&A|P<<16,j=65535&_|I<<16,S=w,E=j,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=(x>>>28|D<<4)^(D>>>2|x<<30)^(D>>>7|x<<25),E=(D>>>28|x<<4)^(x>>>2|D<<30)^(x>>>7|D<<25),_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,S=x&C^x&N^C&N,E=D&M^D&K^M&K,_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,d=65535&A|P<<16,O=65535&_|I<<16,S=a,E=p,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=w,E=j,_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,a=65535&A|P<<16,p=65535&_|I<<16,C=i,N=o,U=s,B=a,z=c,W=u,L=h,x=d,M=l,K=b,q=f,F=p,H=g,G=y,V=m,D=O,v%16===15)for(k=0;k<16;k++)S=T[k],E=R[k],_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=T[(k+9)%16],E=R[(k+9)%16],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,w=T[(k+1)%16],j=R[(k+1)%16],S=(w>>>1|j<<31)^(w>>>8|j<<24)^w>>>7,E=(j>>>1|w<<31)^(j>>>8|w<<24)^(j>>>7|w<<25),_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,w=T[(k+14)%16],j=R[(k+14)%16],S=(w>>>19|j<<13)^(j>>>29|w<<3)^w>>>6,E=(j>>>19|w<<13)^(w>>>29|j<<3)^(j>>>6|w<<26),_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,T[k]=65535&A|P<<16,R[k]=65535&_|I<<16;S=x,E=D,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=e[0],E=t[0],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,e[0]=x=65535&A|P<<16,t[0]=D=65535&_|I<<16,S=C,E=M,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=e[1],E=t[1],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,e[1]=C=65535&A|P<<16,t[1]=M=65535&_|I<<16,S=N,E=K,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=e[2],E=t[2],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,e[2]=N=65535&A|P<<16,t[2]=K=65535&_|I<<16,S=U,E=q,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=e[3],E=t[3],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,e[3]=U=65535&A|P<<16,t[3]=q=65535&_|I<<16,S=B,E=F,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=e[4],E=t[4],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,e[4]=B=65535&A|P<<16,t[4]=F=65535&_|I<<16,S=z,E=H,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=e[5],E=t[5],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,e[5]=z=65535&A|P<<16,t[5]=H=65535&_|I<<16,S=W,E=G,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=e[6],E=t[6],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,e[6]=W=65535&A|P<<16,t[6]=G=65535&_|I<<16,S=L,E=V,_=65535&E,I=E>>>16,A=65535&S,P=S>>>16,S=e[7],E=t[7],_+=65535&E,I+=E>>>16,A+=65535&S,P+=S>>>16,I+=_>>>16,A+=I>>>16,P+=A>>>16,e[7]=L=65535&A|P<<16,t[7]=V=65535&_|I<<16,Y+=128,n-=128}return n}function te(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,ee(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,r=256-128*(r<112?1:0),s[r-9]=0,f(s,r-8,a/536870912|0,a<<3),ee(i,o,s,r),n=0;n<8;n++)f(e,8*n,i[n],o[n]);return 0}function re(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),c=t(),u=t(),d=t(),l=t();D(n,e[1],e[0]),D(l,r[1],r[0]),M(n,n,l),L(i,e[0],e[1]),L(l,r[0],r[1]),M(i,i,l),M(o,e[3],r[3]),M(o,o,h),M(s,e[2],r[2]),L(s,s,s),D(a,i,n),D(c,s,o),L(u,s,o),L(d,i,n),M(e[0],a,c),M(e[1],d,u),M(e[2],u,c),M(e[3],a,d)}function ne(e,t,r){var n;for(n=0;n<4;n++)N(e[n],t[n],r)}function ie(e,r){var n=t(),i=t(),o=t();q(o,r[2]),M(n,r[0],o),M(i,r[1],o),U(e,i),e[31]^=z(n)<<7}function oe(e,t,r){var n,i;for(x(e[0],s),x(e[1],a),x(e[2],a),x(e[3],s),i=255;i>=0;--i)n=r[i/8|0]>>(7&i)&1,ne(e,t,n),re(t,e),re(e,e),ne(e,t,n)}function se(e,r){var n=[t(),t(),t(),t()];x(n[0],d),x(n[1],l),x(n[2],a),M(n[3],d,l),oe(e,n,r)}function ae(e,r,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||n(r,32),te(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,se(a,s),ie(e,a),o=0;o<32;o++)r[o+32]=e[o];return 0}var ce=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ue(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ce[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ce[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ce[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function he(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ue(e,r)}function de(e,r,n,i){var o,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),h=new Float64Array(64),d=[t(),t(),t(),t()];te(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var l=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(te(u,e.subarray(32),n+32),he(u),se(d,u),ie(e,d),o=32;o<64;o++)e[o]=i[o];for(te(c,e,n+64),he(c),o=0;o<64;o++)h[o]=0;for(o=0;o<32;o++)h[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)h[o+s]+=c[o]*a[s];return ue(e.subarray(32),h),l}function le(e,r){var n=t(),i=t(),o=t(),c=t(),h=t(),d=t(),l=t();return x(e[2],a),W(e[1],r),K(o,e[1]),M(c,o,u),D(o,o,e[2]),L(c,e[2],c),K(h,c),K(d,h),M(l,d,h),M(n,l,o),M(n,n,c),F(n,n),M(n,n,o),M(n,n,c),M(n,n,c),M(e[0],n,c),K(i,e[0]),M(i,i,c),B(i,o)&&M(e[0],e[0],b),K(i,e[0]),M(i,i,c),B(i,o)?-1:(z(e[0])===r[31]>>7&&D(e[0],s,e[0]),M(e[3],e[0],e[1]),0)}function be(e,r,n,i){var o,s=new Uint8Array(32),a=new Uint8Array(64),c=[t(),t(),t(),t()],u=[t(),t(),t(),t()];if(n<64)return-1;if(le(u,i))return-1;for(o=0;o<n;o++)e[o]=r[o];for(o=0;o<32;o++)e[o+32]=i[o];if(te(a,e,n),he(a),oe(c,u,a),se(u,r.subarray(32)),re(c,u),ie(s,c),n-=64,y(r,0,s,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=r[o+64];return n}var fe=32,pe=24,ge=32,ye=16,me=32,Oe=32,we=32,je=32,ve=32,ke=pe,Se=ge,Ee=ye,_e=64,Ie=32,Ae=64,Pe=32,Te=64;function Re(e,t){if(e.length!==fe)throw new Error("bad key size");if(t.length!==pe)throw new Error("bad nonce size")}function xe(e,t){if(e.length!==we)throw new Error("bad public key size");if(t.length!==je)throw new Error("bad secret key size")}function Ce(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ne(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:j,crypto_stream_xor:_,crypto_stream:E,crypto_stream_salsa20_xor:k,crypto_stream_salsa20:S,crypto_onetimeauth:A,crypto_onetimeauth_verify:P,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:T,crypto_secretbox_open:R,crypto_scalarmult:H,crypto_scalarmult_base:G,crypto_box_beforenm:Y,crypto_box_afternm:J,crypto_box:X,crypto_box_open:Z,crypto_box_keypair:V,crypto_hash:te,crypto_sign:de,crypto_sign_keypair:ae,crypto_sign_open:be,crypto_secretbox_KEYBYTES:fe,crypto_secretbox_NONCEBYTES:pe,crypto_secretbox_ZEROBYTES:ge,crypto_secretbox_BOXZEROBYTES:ye,crypto_scalarmult_BYTES:me,crypto_scalarmult_SCALARBYTES:Oe,crypto_box_PUBLICKEYBYTES:we,crypto_box_SECRETKEYBYTES:je,crypto_box_BEFORENMBYTES:ve,crypto_box_NONCEBYTES:ke,crypto_box_ZEROBYTES:Se,crypto_box_BOXZEROBYTES:Ee,crypto_sign_BYTES:_e,crypto_sign_PUBLICKEYBYTES:Ie,crypto_sign_SECRETKEYBYTES:Ae,crypto_sign_SEEDBYTES:Pe,crypto_hash_BYTES:Te,gf:t,D:u,L:ce,pack25519:U,unpack25519:W,M:M,A:L,S:K,Z:D,pow2523:F,add:re,set25519:x,modL:ue,scalarmult:oe,scalarbase:se},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){Ce(e,t,r),Re(r,t);for(var n=new Uint8Array(ge+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ge]=e[o];return T(i,n,n.length,t,r),i.subarray(ye)},e.secretbox.open=function(e,t,r){Ce(e,t,r),Re(r,t);for(var n=new Uint8Array(ye+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ye]=e[o];return n.length<32||0!==R(i,n,n.length,t,r)?null:i.subarray(ge)},e.secretbox.keyLength=fe,e.secretbox.nonceLength=pe,e.secretbox.overheadLength=ye,e.scalarMult=function(e,t){if(Ce(e,t),e.length!==Oe)throw new Error("bad n size");if(t.length!==me)throw new Error("bad p size");var r=new Uint8Array(me);return H(r,e,t),r},e.scalarMult.base=function(e){if(Ce(e),e.length!==Oe)throw new Error("bad n size");var t=new Uint8Array(me);return G(t,e),t},e.scalarMult.scalarLength=Oe,e.scalarMult.groupElementLength=me,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){Ce(e,t),xe(e,t);var r=new Uint8Array(ve);return Y(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(we),t=new Uint8Array(je);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(Ce(e),e.length!==je)throw new Error("bad secret key size");var t=new Uint8Array(we);return G(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=we,e.box.secretKeyLength=je,e.box.sharedKeyLength=ve,e.box.nonceLength=ke,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(Ce(e,t),t.length!==Ae)throw new Error("bad secret key size");var r=new Uint8Array(_e+e.length);return de(r,e,e.length,t),r},e.sign.open=function(e,t){if(Ce(e,t),t.length!==Ie)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=be(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(_e),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(Ce(e,t,r),t.length!==_e)throw new Error("bad signature size");if(r.length!==Ie)throw new Error("bad public key size");var n,i=new Uint8Array(_e+e.length),o=new Uint8Array(_e+e.length);for(n=0;n<_e;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+_e]=e[n];return be(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(Ie),t=new Uint8Array(Ae);return ae(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(Ce(e),e.length!==Ae)throw new Error("bad secret key size");for(var t=new Uint8Array(Ie),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(Ce(e),e.length!==Pe)throw new Error("bad seed size");for(var t=new Uint8Array(Ie),r=new Uint8Array(Ae),n=0;n<32;n++)r[n]=e[n];return ae(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=Ie,e.sign.secretKeyLength=Ae,e.sign.seedLength=Pe,e.sign.signatureLength=_e,e.hash=function(e){Ce(e);var t=new Uint8Array(Te);return te(t,e,e.length),t},e.hash.hashLength=Te,e.verify=function(e,t){return Ce(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===p(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!==typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){var n=65536;e.setPRNG((function(e,r){var i,o=new Uint8Array(r);for(i=0;i<r;i+=n)t.getRandomValues(o.subarray(i,i+Math.min(r-i,n)));for(i=0;i<r;i++)e[i]=o[i];Ne(o)}))}else t=r(30),t&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];Ne(i)}))}()})(e.exports?e.exports:self.nacl=self.nacl||{})},"2ac5":function(e,t,r){"use strict";function n(e){return null!==e&&"object"===typeof e&&"function"===typeof e.pipe}function i(e){return n(e)&&!1!==e.writable&&"function"===typeof e._write&&"object"===typeof e._writableState}function o(e){return n(e)&&!1!==e.readable&&"function"===typeof e._read&&"object"===typeof e._readableState}function s(e){return i(e)&&o(e)}r.d(t,"a",(function(){return s}))},30:function(e,t){},"4f17":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r("5efe"),i=r("c10a"),o=n.errorCodes.rpc.internal,s="Unspecified error message. This is a bug, please report it.",a={code:o,message:c(o)};function c(e,r=s){if(Number.isInteger(e)){const r=e.toString();if(b(n.errorValues,r))return n.errorValues[r].message;if(d(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!d(e)}function h(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,o;if(!t||!Number.isInteger(t.code)||"string"!==typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();const s={};if(e&&"object"===typeof e&&!Array.isArray(e)&&b(e,"code")&&u(e.code)){const t=e;s.code=t.code,t.message&&"string"===typeof t.message?(s.message=t.message,b(t,"data")&&(s.data=t.data)):(s.message=c(s.code),s.data={originalError:l(e)})}else{s.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;s.message=r&&"string"===typeof r?r:t.message,s.data={originalError:l(e)}}const h=null===(o=e)||void 0===o?void 0:o.stack;return r&&e&&h&&"string"===typeof h&&(s.stack=h),s}function d(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=c,t.isValidCode=u,t.serializeError=h},"5a2b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r("c10a");Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const i=r("4f17");Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});const o=r("0bfb");Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});const s=r("5efe");Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})},"5efe":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},"694b":function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}},b5dd:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return re}));var n=r("9523"),i=r.n(n),o=r("0321"),s=r("552f"),a=r("6517"),c=r("2d5d"),u=r("5a2b"),h=r("2ac5"),d=r("6f59"),l=r.n(d),b=r("5c7d"),f=r.n(b),p=r("694b"),g=r.n(p),y={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",unsupportedSync:e=>"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(e," without a callback parameter."),invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:e=>"Invalid options. Received: { maxEventListeners: ".concat(e,"}"),invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>"'args.logger' must include required method '".concat(e,"'.")},info:{connected:e=>'Torus: Connected to chain with ID "'.concat(e,'".')},warnings:{}};const m={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"},O={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},w={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless"},j={en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies bentigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"",actionRequired:"",pendingAction:"",cookiesRequired:"",enableCookies:"TorusCookie",clickHere:""}},ko:{embed:{continue:"",actionRequired:" ",pendingAction:"    .",cookiesRequired:" ",enableCookies:"     Torus .",clickHere:"  "}},zh:{embed:{continue:"",actionRequired:"",pendingAction:"",cookiesRequired:"Cookie",enableCookies:"cookieTorus",clickHere:""}}};var v={supportedVerifierList:[w.GOOGLE,w.REDDIT,w.DISCORD],api:"https://api.tor.us",translations:j,prodTorusUrl:"",localStorageKey:"torus-".concat(window.location.hostname)},k=f.a.getLogger("solana-embed");function S(){return(e,t,r)=>{"string"===typeof e.method&&e.method||(t.error=u["ethErrors"].rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),r(e=>{const{error:r}=t;return r?(k.error("Torus - RPC Error: ".concat(r.message),r),e()):e()})}}function E(e,t,r){let n='Torus: Lost connection to "'.concat(e,'".');null!==t&&void 0!==t&&t.stack&&(n+="\n".concat(t.stack)),k.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}const _=()=>Math.random().toString(36).slice(2),I=async e=>{let t,r;switch(e){case"testing":t="https://solana-testing.tor.us",r="debug";break;case"development":t="http://localhost:8080",r="debug";break;default:t="https://solana.tor.us",r="error";break}return{torusUrl:t,logLevel:r}},A=()=>{let e=window.navigator.language||"en-US";const t=e.split("-");return e=Object.prototype.hasOwnProperty.call(v.translations,t[0])?t[0]:"en",e},P={height:660,width:375},T={height:740,width:1315},R={height:700,width:1200},x={height:600,width:400};function C(e){let t;try{t=window[e];const r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(r){return r&&(22===r.code||1014===r.code||"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name)&&t&&0!==t.length}}function N(e){let{width:t,height:r}=e;const n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,a=1,c=Math.abs((o-t)/2/a+n),u=Math.abs((s-r)/2/a+i),h="titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(r/a,",width=").concat(t/a,",top=").concat(u,",left=").concat(c);return h}const U=e=>{switch(e){case"mainnet-beta":return{blockExplorerUrl:"https://explorer.solana.com",chainId:"0x1",displayName:"Solana Mainnet",logo:"solana.svg",rpcTarget:"https://api.mainnet-beta.solana.com",ticker:"SOL",tickerName:"Solana Token"};case"testnet":return{blockExplorerUrl:"https://explorer.solana.com",chainId:"0x2",displayName:"Solana Testnet",logo:"solana.svg",rpcTarget:"https://api.testnet.solana.com",ticker:"SOL",tickerName:"Solana Token"};case"devnet":return{blockExplorerUrl:"https://explorer.solana.com",chainId:"0x3",displayName:"Solana Devnet",logo:"solana.svg",rpcTarget:"https://api.devnet.solana.com",ticker:"SOL",tickerName:"Solana Token"};default:return}};class B extends c["e"]{constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=t;if(super(),i()(this,"isTorus",void 0),i()(this,"_rpcEngine",void 0),i()(this,"jsonRpcConnectionEvents",void 0),i()(this,"_state",void 0),!Object(h["a"])(e))throw new Error(y.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(r),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this);const o=new c["c"];l()(e,o,e,this._handleStreamDisconnect.bind(this,"Torus")),o.ignoreStream("phishing");const a=Object(c["i"])();l()(a.stream,o.createStream(n),a.stream,this._handleStreamDisconnect.bind(this,"Torus RpcProvider"));const u=new c["b"];u.push(Object(c["g"])()),u.push(S()),u.push(Object(s["h"])({origin:location.origin})),u.push(a.middleware),this._rpcEngine=u,this.jsonRpcConnectionEvents=a.events}async request(e){if(!e||"object"!==typeof e||Array.isArray(e))throw u["ethErrors"].rpc.invalidRequest({message:y.errors.invalidRequestArgs(),data:e});const{method:t,params:r}=e;if("string"!==typeof t||0===t.length)throw u["ethErrors"].rpc.invalidRequest({message:y.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!==typeof r||null===r))throw u["ethErrors"].rpc.invalidRequest({message:y.errors.invalidRequestParams(),data:e});return new Promise((e,n)=>{this._rpcRequest({method:t,params:r},Object(c["j"])(e,n))})}send(e,t){this._rpcRequest(e,t)}sendAsync(e){return new Promise((t,r)=>{this._rpcRequest(e,Object(c["j"])(t,r))})}_handleStreamDisconnect(e,t){E(e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}}const z=function(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];const s=()=>{r(...i),e.removeEventListener(t,s)};e.addEventListener(t,s)};async function W(){return new Promise(e=>{"loading"!==document.readyState?e():z(document,"DOMContentLoaded",e)})}const L=e=>{const t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild};class D extends c["e"]{constructor(e){let{url:t,target:r,features:n}=e;super(),i()(this,"url",void 0),i()(this,"target",void 0),i()(this,"features",void 0),i()(this,"window",void 0),i()(this,"windowTimer",void 0),i()(this,"iClosedWindow",void 0),this.url=t,this.target=r||"_blank",this.features=n||N(R),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var e;return this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class q extends B{constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=t;super(e,{maxEventListeners:r,jsonRpcStreamName:n}),i()(this,"embedTranslations",void 0),i()(this,"torusUrl",void 0),i()(this,"dappStorageKey",void 0),i()(this,"windowRefs",void 0),i()(this,"tryWindowHandle",void 0),i()(this,"torusAlertContainer",void 0),i()(this,"torusIframe",void 0),this._state=K({},q._defaultState),this.torusUrl="",this.dappStorageKey="";const o=v.translations[A()];this.embedTranslations=o.embed,this.windowRefs={},this.on("connect",()=>{this._state.isConnected=!0});const a=e=>{const{method:t,params:r}=e;if(t===s["c"].IFRAME_STATUS){const{isFullScreen:e,rid:t}=r;this._displayIframe({isFull:e,rid:t})}else if(t===s["c"].CREATE_WINDOW){const{windowId:e,url:t}=r;this._createPopupBlockAlert(e,t)}else if(t===s["c"].CLOSE_WINDOW)this._handleCloseWindow(r);else if(t===s["c"].USER_LOGGED_IN){const{currentLoginProvider:e}=r;this._state.isLoggedIn=!0,this._state.currentLoginProvider=e}else t===s["c"].USER_LOGGED_OUT&&(this._state.isLoggedIn=!1,this._state.currentLoginProvider=null,this._displayIframe())};this.jsonRpcConnectionEvents.on("notification",a)}get isLoggedIn(){return this._state.isLoggedIn}get isIFrameFullScreen(){return this._state.isIFrameFullScreen}isConnected(){return this._state.isConnected}async _initializeState(e){try{const{torusUrl:t,dappStorageKey:r,torusAlertContainer:n,torusIframe:i}=e;this.torusUrl=t,this.dappStorageKey=r,this.torusAlertContainer=n,this.torusIframe=i,this.torusIframe.addEventListener("load",()=>{this._state.isIFrameFullScreen||this._displayIframe()});const{currentLoginProvider:o,isLoggedIn:a}=await this.request({method:s["b"].GET_PROVIDER_STATE,params:[]});this._handleConnect(o,a)}catch(t){k.error("Torus: Failed to get initial state. Please report this bug.",t)}finally{k.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized")}}_handleWindow(e){let{url:t,target:r,features:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new URL(t||"".concat(this.torusUrl,"/redirect?windowId=").concat(e));this.dappStorageKey&&(i.hash?i.hash+="&dappStorageKey=".concat(this.dappStorageKey):i.hash="#dappStorageKey=".concat(this.dappStorageKey));const o=new D({url:i,target:r,features:n});o.open(),o.window?(this.windowRefs[e]=o,this.request({method:s["b"].OPENED_WINDOW,params:{windowId:e}}),o.once("close",()=>{delete this.windowRefs[e],this.request({method:s["b"].CLOSED_WINDOW,params:{windowId:e}})})):this._createPopupBlockAlert(e,i.href)}_displayIframe(){let{isFull:e=!1,rid:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r={};if(e)r.display="block",r.width="100%",r.height="100%",r.top="0px",r.right="0px",r.left="0px",r.bottom="0px";else switch(r.display=this._state.torusWidgetVisibility?"block":"none",r.height="70px",r.width="70px",this._state.buttonPosition){case O.TOP_LEFT:r.top="0px",r.left="0px",r.right="auto",r.bottom="auto";break;case O.TOP_RIGHT:r.top="0px",r.right="0px",r.left="auto",r.bottom="auto";break;case O.BOTTOM_RIGHT:r.bottom="0px",r.right="0px",r.top="auto",r.left="auto";break;case O.BOTTOM_LEFT:default:r.bottom="0px",r.left="0px",r.top="auto",r.right="auto";break}Object.assign(this.torusIframe.style,r),this._state.isIFrameFullScreen=e,this.request({method:s["b"].IFRAME_STATUS,params:{isIFrameFullScreen:e,rid:t}})}hideTorusButton(){this._state.torusWidgetVisibility=!1,this._displayIframe()}showTorusButton(){this._state.torusWidgetVisibility=!0,this._displayIframe()}_rpcRequest(e,t){const r=t,n=e;Array.isArray(n)||n.jsonrpc||(n.jsonrpc="2.0"),this.tryWindowHandle(n,r)}_handleConnect(e,t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:e,isLoggedIn:t}),k.debug(y.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new u["EthereumRpcError"](1013,t||y.errors.disconnected()),k.debug(r)):(r=new u["EthereumRpcError"](1011,t||y.errors.permanentlyDisconnected()),k.error(r),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleCloseWindow(e){const{windowId:t}=e;this.windowRefs[t]&&(this.windowRefs[t].close(),delete this.windowRefs[t])}async _createPopupBlockAlert(e,t){const r=this.getLogoUrl(),n=L('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(r,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),i=L('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),o=L('<div id="torusAlert__btn-container"></div>');o.appendChild(i),n.appendChild(o);const s=()=>{i.addEventListener("click",()=>{this._handleWindow(e,{url:t,target:"_blank",features:N(x)}),n.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})},a=()=>{this.torusAlertContainer.appendChild(n)};await W(),a(),s(),this.torusAlertContainer.style.display="block"}getLogoUrl(){const e="".concat(this.torusUrl,"/images/torus_icon-blue.svg");return e}}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}i()(q,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});class G extends B{constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=t;super(e,{maxEventListeners:r,jsonRpcStreamName:n}),i()(this,"chainId",void 0),i()(this,"selectedAddress",void 0),i()(this,"tryWindowHandle",void 0),this._state=H({},G._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this.on("connect",()=>{this._state.isConnected=!0});const o=e=>{const{method:t,params:r}=e;t===s["e"].ACCOUNTS_CHANGED?this._handleAccountsChanged(r):t===s["e"].UNLOCK_STATE_CHANGED?this._handleUnlockStateChanged(r):t===s["e"].CHAIN_CHANGED&&this._handleChainChanged(r)};this.jsonRpcConnectionEvents.on("notification",o)}isConnected(){return this._state.isConnected}async _initializeState(){try{const{accounts:e,chainId:t,isUnlocked:r}=await this.request({method:s["d"].GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){k.error("Torus: Failed to get initial state. Please report this bug.",e)}finally{k.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t;const i=e;if(!Array.isArray(i))if(i.jsonrpc||(i.jsonrpc="2.0"),"solana_accounts"===i.method||"solana_requestAccounts"===i.method)n=(e,n)=>{this._handleAccountsChanged(n.result||[],"solana_accounts"===i.method,r),t(e,n)};else if("wallet_getProviderState"===i.method)return void this._rpcEngine.handle(e,n);this.tryWindowHandle(i,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),k.debug(y.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new u["EthereumRpcError"](1013,t||y.errors.disconnected()),k.debug(r)):(r=new u["EthereumRpcError"](1011,t||y.errors.permanentlyDisconnected()),k.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleAccountsChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;Array.isArray(n)||(k.error("Torus: Received non-array accounts parameter. Please report this bug.",n),n=[]);for(const i of e)if("string"!==typeof i){k.error("Torus: Received non-string account. Please report this bug.",e),n=[];break}g()(this._state.accounts,n)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&k.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',n),this._state.accounts=n,this.emit("accountsChanged",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}_handleChainChanged(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e?"loading"===e?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):k.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:e})}_handleUnlockStateChanged(){let{accounts:e,isUnlocked:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"===typeof t?t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[])):k.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:t})}}function V(e){return new Promise((t,r)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(n){r(n)}})}i()(G,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});const Y=e=>{const{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function J(e){try{const{document:t}=e;let r=t.querySelector('head > link[rel="shortcut icon"]');return r&&await V(r.href)?r.href:(r=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(e=>Boolean(e.href)),r&&await V(r.href)?r.href:"")}catch(t){return""}}const $=async()=>({name:Y(window),icon:await J(window)});function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Q=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],ee=[s["b"].SET_PROVIDER],te=C("localStorage");(async function(){try{if("undefined"===typeof document)return;const e=document.createElement("link"),{torusUrl:t}=await I("production");e.href="".concat(t,"/frame"),e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){k.warn(e)}})();class re{constructor(){let{modalZIndex:e=99999}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(this,"isInitialized",void 0),i()(this,"torusAlert",void 0),i()(this,"modalZIndex",void 0),i()(this,"alertZIndex",void 0),i()(this,"requestedLoginProvider",void 0),i()(this,"provider",void 0),i()(this,"communicationProvider",void 0),i()(this,"dappStorageKey",void 0),i()(this,"torusAlertContainer",void 0),i()(this,"torusUrl",void 0),i()(this,"torusIframe",void 0),i()(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=e,this.alertZIndex=e+1e3,this.dappStorageKey=""}get isLoggedIn(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}async init(){let{buildEnv:e=m.PRODUCTION,enableLogging:t=!1,network:r,showTorusButton:n=!1,useLocalStorage:i=!1,buttonPosition:o=O.BOTTOM_LEFT,apiKey:s="torus-default",extraParams:c={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)throw new Error("Already initialized");Object(a["f"])(s);const{torusUrl:u,logLevel:h}=await I(e);k.info(u,"url loaded"),this.torusUrl=u,k.setDefaultLevel(h),t?k.enableAll():k.disableAll();const d=this.handleDappStorageKey(i),l=new URL(u);l.pathname.endsWith("/")?l.pathname+="frame":l.pathname+="/frame";const b=new URLSearchParams;d&&b.append("dappStorageKey",d),b.append("origin",window.location.origin),l.hash=b.toString(),this.torusIframe=L('<iframe\n        id="torusIframe"\n        class="torusIframe"\n        src="'.concat(l.href,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex.toString(),'"\n      ></iframe>')),this.torusAlertContainer=L('<div id="torusAlertContainer" style="display:none; z-index: '.concat(this.alertZIndex.toString(),'"></div>')),this.styleLink=L('<link href="'.concat(u,'/css/widget.css" rel="stylesheet" type="text/css">'));const f=async()=>new Promise((e,t)=>{try{window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer),this.torusIframe.addEventListener("load",async()=>{const t=await $();this.torusIframe.contentWindow.postMessage({buttonPosition:o,apiKey:s,network:"string"===typeof r?U(r):r,dappMetadata:t,extraParams:c},l.origin),await this._setupWeb3({torusUrl:u}),n?this.showTorusButton():this.hideTorusButton(),this.isInitialized=!0,window.torus=this,e()})}catch(i){t(i)}});await W(),await f()}async login(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");try{this.requestedLoginProvider=e.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0});const t=await new Promise((t,r)=>{this.provider._rpcRequest({method:"solana_requestAccounts",params:[this.requestedLoginProvider,e.login_hint]},Object(c["j"])(t,r))});if(Array.isArray(t)&&t.length>0)return t;throw new Error("Login failed")}catch(t){throw k.error("login failed",t),t}finally{this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe()}}async logout(){if(!this.communicationProvider.isLoggedIn)throw new Error("Not logged in");await this.communicationProvider.request({method:s["b"].LOGOUT,params:[]}),this.requestedLoginProvider=null}async cleanUp(){this.communicationProvider.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function e(e){return e instanceof Element||e instanceof Document}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.communicationProvider.hideTorusButton()}showTorusButton(){this.communicationProvider.showTorusButton()}async setProvider(e){await this.communicationProvider.request({method:s["b"].SET_PROVIDER,params:Z({},e)})}async showWallet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await this.communicationProvider.request({method:s["b"].WALLET_INSTANCE_ID,params:[]}),n=e?"/".concat(e):"",i=new URL("".concat(this.torusUrl,"/wallet").concat(n));i.searchParams.append("instanceId",r),Object.keys(t).forEach(e=>{i.searchParams.append(e,t[e])}),this.dappStorageKey&&(i.hash="#dappStorageKey=".concat(this.dappStorageKey));const o=new D({url:i,features:N(T)});o.open()}async getUserInfo(){const e=await this.communicationProvider.request({method:s["b"].USER_INFO,params:[]});return e}async initiateTopup(e,t){if(!this.isInitialized)throw new Error("Torus is not initialized");const r=_();this.communicationProvider._handleWindow(r);const n=await this.communicationProvider.request({method:s["b"].TOPUP,params:{provider:e,params:t,windowId:r}});return n}async sendTransaction(e){const t=await this.provider.request({method:"send_transaction",params:{message:e.serialize({requireAllSignatures:!1}).toString("hex")}});return t}async signTransaction(t){const r=await this.provider.request({method:"sign_transaction",params:{message:t.serialize({requireAllSignatures:!1}).toString("hex")}}),n=e.from(r,"hex"),i=o["a"].from(n);return i}async signAllTransactions(t){const r=t.map(e=>e.serialize({requireAllSignatures:!1}).toString("hex")),n=await this.provider.request({method:"sign_all_transactions",params:{message:r}}),i=n.map(t=>o["a"].from(e.from(t,"hex")));return i}async signMessage(e){const t=await this.provider.request({method:"sign_message",params:{data:e}});return t}async getGaslessPublicKey(){const e=await this.provider.request({method:"get_gasless_public_key",params:[]});return e}handleDappStorageKey(e){let t="";if(te&&e){const e=window.localStorage.getItem(v.localStorageKey);if(e)t=e;else{const e="torus-app-".concat(_());window.localStorage.setItem(v.localStorageKey,e),t=e}}return this.dappStorageKey=t,t}async _setupWeb3(e){k.info("setupWeb3 running");const t=new c["a"]({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),r=new c["a"]({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),n=new G(t,{}),i=new q(r,{});n.tryWindowHandle=(e,t)=>{const r=e;if(!Array.isArray(r)&&Q.includes(r.method)){if(!this.communicationProvider.isLoggedIn)throw new Error("User Not Logged In");const e=_();i._handleWindow(e,{target:"_blank",features:N(x)}),r.windowId=e}n._rpcEngine.handle(r,t)},i.tryWindowHandle=(e,t)=>{const r=e;if(!Array.isArray(r)&&ee.includes(r.method)){const e=_();i._handleWindow(e,{target:"_blank",features:N(P)}),r.params.windowId=e}i._rpcEngine.handle(r,t)};const o=e=>{const t=n[e],r=this;n[e]=function(e,n){const{method:i,params:o=[]}=e;if("solana_requestAccounts"===i){if(!n)return r.login({loginProvider:o[0]});r.login({loginProvider:o[0]}).then(e=>n(null,e)).catch(e=>n(e))}return t.apply(this,[e,n])}};o("request"),o("sendAsync"),o("send");const s=new Proxy(n,{deleteProperty:()=>!0}),a=new Proxy(i,{deleteProperty:()=>!0});this.provider=s,this.communicationProvider=a,await Promise.all([n._initializeState(),i._initializeState(Z(Z({},e),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]),k.debug("Torus - injected provider")}}}).call(this,r("b639").Buffer)},c10a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r("375a");class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!==typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),a,2)}}t.EthereumRpcError=i;class o extends i{constructor(e,t,r){if(!s(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function s(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function a(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=o}}]);
//# sourceMappingURL=chunk-6afecb0b.4de96a6b.js.map